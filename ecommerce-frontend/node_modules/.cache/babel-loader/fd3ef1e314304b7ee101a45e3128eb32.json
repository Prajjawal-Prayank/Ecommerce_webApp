{"ast":null,"code":"import _defineProperty from\"D:\\\\B Tech\\\\WebD\\\\Ecommerce_webApp\\\\ecommerce-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\B Tech\\\\WebD\\\\Ecommerce_webApp\\\\ecommerce-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\B Tech\\\\WebD\\\\Ecommerce_webApp\\\\ecommerce-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Layout from'../core/Layout';import{isAuthenticated}from'../auth';import{Redirect}from'react-router-dom';import{getProduct,getCategories,updateProduct}from'./apiAdmin';var UpdateProduct=function UpdateProduct(_ref){var match=_ref.match;var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var _useState=useState({name:'',description:'',price:'',categories:[],category:'',shipping:'',quantity:'',photo:'',loading:false,error:false,createdProduct:'',redirectToProfile:false,formData:new FormData()//we will send this to the backend\n}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var name=values.name,description=values.description,price=values.price,category=values.category,shipping=values.shipping,categories=values.categories,quantity=values.quantity,loading=values.loading,error=values.error,createdProduct=values.createdProduct,redirectToProfile=values.redirectToProfile,formData=values.formData;var init=function init(productId){getProduct(productId).then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error}));}else{//here we will populate the state and load categories\nsetValues(_objectSpread(_objectSpread({},values),{},{name:data.name,description:data.description,price:data.price,quantity:data.quantity,//category:data.category._id,\nshipping:data.shipping,formData:new FormData()}));initCategories();}});};//load categories and set form data\nvar initCategories=function initCategories(){getCategories().then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error}));}else{setValues({categories:data,formData:new FormData()});}});};useEffect(function(){init(match.params.productId);},[]);var handleChange=function handleChange(name){return function(event){var value=name==='photo'?event.target.files[0]:event.target.value;//event.target.files[0]-> only first image is considered.In multiple uploads, we are only\n//considering the first image\nformData.set(name,value);setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};};var clickSubmit=function clickSubmit(event){event.preventDefault();setValues(_objectSpread(_objectSpread({},values),{},{error:'',loading:true}));updateProduct(match.params.productId,user._id,token,formData).then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error}));}else{setValues(_objectSpread(_objectSpread({},values),{},{name:'',description:'',price:'',photo:'',loading:false,quantity:'',//category:'',\nerror:false,createdProduct:data.name,redirectToProfile:true}));//document.getElementById(\"all_cat\").selectedIndex = \"0\";\n//  document.getElementById(\"ship_status\").selectedIndex = \"0\";\n}});};var newProductForm=function newProductForm(){return/*#__PURE__*/React.createElement(\"form\",{className:\"mb-3\",onSubmit:clickSubmit},/*#__PURE__*/React.createElement(\"h4\",null,\"Attach Photo\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"btn btn-secondary\"},/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('photo'),type:\"file\",name:\"photo\",accept:\"image/*\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('name'),type:\"text\",className:\"form-control\",value:name})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Description\"),/*#__PURE__*/React.createElement(\"textarea\",{onChange:handleChange('description'),className:\"form-control\",value:description,style:{whiteSpace:'pre'}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Price\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('price'),type:\"number\",className:\"form-control\",value:price})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Category \"),/*#__PURE__*/React.createElement(\"select\",{onChange:handleChange('category'),className:\"form-control\",id:\"all_cat\"},/*#__PURE__*/React.createElement(\"option\",null,\"Please Select\"),categories&&categories.map(function(c,idx){return/*#__PURE__*/React.createElement(\"option\",{key:idx,value:c._id},c.name);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Shipping\"),/*#__PURE__*/React.createElement(\"select\",{onChange:handleChange('shipping'),className:\"form-control\",id:\"ship_status\"},/*#__PURE__*/React.createElement(\"option\",null,\"Please Select\"),/*#__PURE__*/React.createElement(\"option\",{value:\"0\"},\"No\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"Yes\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Quantity\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('quantity'),type:\"number\",className:\"form-control\",value:quantity})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-primary\"},\"Update Product\"));};var showError=function showError(){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:error?'':'none'}},error);};var showSuccess=function showSuccess(){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info\",style:{display:createdProduct?'':'none'}},/*#__PURE__*/React.createElement(\"h2\",null,\"Product \\\"\",\"\".concat(createdProduct,\" \"),\"\\\" is updated!\"));};var showLoading=function showLoading(){return loading&&/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-success\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Loading...\"));};var redirectUser=function redirectUser(){if(redirectToProfile){if(!error){window.alert('Product was successfully updated.');return/*#__PURE__*/React.createElement(Redirect,{to:\"/admin/products\"});}}};return/*#__PURE__*/React.createElement(Layout,{title:\"Add a new Product\",description:\"Welcome \".concat(user.name,\"!\")},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 offset-md-2\"},showLoading(),showSuccess(),showError(),newProductForm(),redirectUser())));};export default UpdateProduct;","map":{"version":3,"sources":["D:/B Tech/WebD/Ecommerce_webApp/ecommerce-frontend/src/admin/UpdateProduct.js"],"names":["React","useState","useEffect","Layout","isAuthenticated","Redirect","getProduct","getCategories","updateProduct","UpdateProduct","match","user","token","name","description","price","categories","category","shipping","quantity","photo","loading","error","createdProduct","redirectToProfile","formData","FormData","values","setValues","init","productId","then","data","initCategories","params","handleChange","event","value","target","files","set","clickSubmit","preventDefault","_id","newProductForm","whiteSpace","map","c","idx","showError","display","showSuccess","showLoading","redirectUser","window","alert"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {getProduct,getCategories,updateProduct} from './apiAdmin';\r\n\r\nconst UpdateProduct=({match})=>{\r\n\r\n    const {user,token} = isAuthenticated();\r\n    const [values,setValues]=useState({\r\n        name:'',\r\n        description:'',\r\n        price:'',\r\n        categories:[],\r\n        category:'',\r\n        shipping:'',\r\n        quantity:'',\r\n        photo:'',\r\n        loading:false,\r\n        error:false,\r\n        createdProduct:'',\r\n        redirectToProfile: false,\r\n        formData:new FormData()     //we will send this to the backend\r\n    });\r\n\r\n    const {name,description,price,category,shipping,categories,quantity,loading,error,createdProduct,\r\n        redirectToProfile,formData} = values;   \r\n        \r\n    const init=productId=>{\r\n        getProduct(productId)\r\n            .then(data=>{   \r\n                if(data.error){\r\n                    setValues({...values,error:data.error});\r\n                }else{\r\n                    //here we will populate the state and load categories\r\n                    setValues({...values,\r\n                        name:data.name,\r\n                        description:data.description,\r\n                        price:data.price,\r\n                        quantity:data.quantity,\r\n                        //category:data.category._id,\r\n                        shipping:data.shipping,\r\n                        formData:new FormData()\r\n                    });\r\n                    initCategories();\r\n                }\r\n            })\r\n    }    \r\n\r\n\r\n    //load categories and set form data\r\n    const initCategories=()=>{\r\n        getCategories()\r\n        .then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error: data.error})\r\n            }else{ \r\n                setValues({categories:data,formData:new FormData()});   \r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    useEffect(()=>{\r\n        init(match.params.productId);\r\n    },[]);\r\n\r\n    const handleChange=name=>event=>{\r\n        const value= (name==='photo'? event.target.files[0] : event.target.value );\r\n            //event.target.files[0]-> only first image is considered.In multiple uploads, we are only\r\n            //considering the first image\r\n        formData.set(name,value);\r\n        setValues({...values,[name]:value});    \r\n    };    \r\n\r\n\r\n    const clickSubmit=(event)=>{\r\n        event.preventDefault();\r\n        setValues({...values,error:'',loading:true});\r\n        updateProduct(match.params.productId,user._id,token,formData)\r\n        .then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error:data.error});\r\n            }else{\r\n                setValues({...values,\r\n                    name:'',\r\n                    description:'',\r\n                    price:'',\r\n                    photo:'',\r\n                    loading:false,\r\n                    quantity:'',\r\n                    //category:'',\r\n                    error:false,\r\n                    createdProduct: data.name,\r\n                    redirectToProfile:true\r\n                });\r\n                //document.getElementById(\"all_cat\").selectedIndex = \"0\";\r\n                //  document.getElementById(\"ship_status\").selectedIndex = \"0\";\r\n            }\r\n        });\r\n    };\r\n\r\n    \r\n\r\n    const newProductForm=()=>(\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Attach Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\"> \r\n                    <input onChange={handleChange('photo')}  type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />                \r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" \r\n                    value={description}  style={{whiteSpace: 'pre'}} />                \r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />                \r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category </label>\r\n                <select onChange={handleChange('category')} className=\"form-control\" id=\"all_cat\">\r\n                <option >Please Select</option>\r\n                    {categories && categories.map((c,idx)=>(\r\n                        <option key={idx} value={c._id}>{c.name}</option>))}\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\" id=\"ship_status\">\r\n                    <option>Please Select</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />                \r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Update Product</button>\r\n        </form>\r\n    )    \r\n\r\n    const showError=()=>(\r\n        <div className=\"alert alert-danger\" style={{display:error?'' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess=()=>(\r\n        <div className=\"alert alert-info\" style={{display:createdProduct?'' : 'none'}}>\r\n            <h2>Product \"{ `${createdProduct} ` }\" is updated!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading=()=>(\r\n        loading && <div className=\"alert alert-success\">\r\n            <h2>Loading...</h2>\r\n        </div>\r\n    )\r\n\r\n    const redirectUser=()=>{\r\n        if(redirectToProfile){\r\n            if(!error){\r\n                window.alert('Product was successfully updated.')\r\n                return <Redirect to=\"/admin/products\" />\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Add a new Product\" description={`Welcome ${user.name}!`} >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\"> \r\n                    {showLoading()} \r\n                    {showSuccess()} \r\n                    {showError()}\r\n                    {newProductForm()}  \r\n                    {redirectUser()}                  \r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default UpdateProduct;"]},"metadata":{},"sourceType":"module"}