{"ast":null,"code":"import _slicedToArray from\"D:\\\\B Tech\\\\WebD\\\\Ecommerce_webApp\\\\ecommerce-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Layout from'../core/Layout';import{isAuthenticated}from'../auth';import{Link}from'react-router-dom';import{createCategory}from'./apiAdmin';var AddCategory=function AddCategory(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];//destructre user and info from localstorage\nvar _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var handleChange=function handleChange(e){setError('');setSuccess('');setName(e.target.value);};var clickSubmit=function clickSubmit(e){e.preventDefault();setError('');setSuccess(false);//make request to api to create category\ncreateCategory(user._id,token,{name:name}).then(function(data){if(data.error){setSuccess('');setError(true);}else{setError('');setSuccess(true);}});};var newCategoryForm=function newCategoryForm(){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:clickSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:handleChange,value:name,autoFocus:true,required:true})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-primary\"},\"Create Category\"));};var showSuccess=function showSuccess(){if(success){return/*#__PURE__*/React.createElement(\"h3\",{className:\"text-success\"},\"Category \\\"\",name,\"\\\" is created.\");}};var showError=function showError(){if(error){return/*#__PURE__*/React.createElement(\"h3\",{className:\"text-danger\"},\"Category \\\"\",name,\"\\\" already exists!\");}};var goBack=function goBack(){return/*#__PURE__*/React.createElement(\"div\",{className:\"mt-5\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/dashboard\",className:\"text-warning\"},\"<- Go Back to Dashboard\"));};return/*#__PURE__*/React.createElement(Layout,{title:\"Add a new Category\",description:\"Welcome \".concat(user.name,\"!\")},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 offset-md-2\"},showSuccess(),showError(),newCategoryForm(),goBack())));};export default AddCategory;","map":{"version":3,"sources":["D:/B Tech/WebD/Ecommerce_webApp/ecommerce-frontend/src/admin/AddCategory.js"],"names":["React","useState","Layout","isAuthenticated","Link","createCategory","AddCategory","name","setName","error","setError","success","setSuccess","user","token","handleChange","e","target","value","clickSubmit","preventDefault","_id","then","data","newCategoryForm","showSuccess","showError","goBack"],"mappings":"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","sourcesContent":["import React,{useState} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport { Link} from 'react-router-dom';\r\nimport {createCategory} from './apiAdmin';\r\n\r\nconst AddCategory=()=>{\r\n    const [name,setName]=useState('');\r\n    const [error,setError]=useState(false);\r\n    const [success,setSuccess]=useState(false);\r\n\r\n    //destructre user and info from localstorage\r\n    const {user,token} = isAuthenticated();\r\n\r\n    const handleChange=(e)=>{\r\n        setError('');\r\n        setSuccess('');\r\n        setName(e.target.value);\r\n    }\r\n\r\n    const clickSubmit=(e)=>{\r\n        e.preventDefault();\r\n        setError('');\r\n        setSuccess(false);\r\n        //make request to api to create category\r\n        createCategory(user._id,token,{name})\r\n        .then(data=>{\r\n            if(data.error){\r\n                setSuccess('');\r\n                setError(true);\r\n            }else{\r\n                setError('');\r\n                setSuccess(true);\r\n            }\r\n        })\r\n    };\r\n\r\n    const newCategoryForm=()=>(\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" className=\"form-control\" \r\n                        onChange={handleChange} value={name} \r\n                        autoFocus required />                     \r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Create Category</button>   \r\n        </form>\r\n    );\r\n\r\n    const showSuccess=()=>{\r\n        if(success){\r\n            return <h3 className=\"text-success\">Category \"{name}\" is created.</h3>\r\n        }\r\n    }\r\n\r\n\r\n    const showError=()=>{\r\n        if(error){\r\n            return <h3 className=\"text-danger\">Category \"{name}\" already exists!</h3>\r\n        }\r\n    }\r\n\r\n    const goBack=()=>(\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n                &lt;- Go Back to Dashboard\r\n            </Link>\r\n        </div>\r\n    );\r\n\r\n\r\n    return (\r\n        <Layout title=\"Add a new Category\" description={`Welcome ${user.name}!`} >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">   \r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newCategoryForm()} \r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n\r\n};\r\n\r\n\r\nexport default AddCategory;"]},"metadata":{},"sourceType":"module"}