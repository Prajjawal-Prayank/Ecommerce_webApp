{"ast":null,"code":"import _slicedToArray from\"D:\\\\B Tech\\\\WebD\\\\Ecommerce_webApp\\\\ecommerce-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,Redirect}from'react-router-dom';import ShowImage from'./ShowImage';import{addItem,updateItem,removeItem}from'./cartHelpers';var Card=function Card(_ref){var _ref$showAddToCart=_ref.showAddToCart,showAddToCart=_ref$showAddToCart===void 0?true:_ref$showAddToCart,_ref$showRemoveProduc=_ref.showRemoveProductButton,showRemoveProductButton=_ref$showRemoveProduc===void 0?false:_ref$showRemoveProduc,_ref$cartUpdate=_ref.cartUpdate,cartUpdate=_ref$cartUpdate===void 0?false:_ref$cartUpdate,_ref$run=_ref.run,run=_ref$run===void 0?undefined:_ref$run,_ref$setRun=_ref.setRun,setRun=_ref$setRun===void 0?function(f){return f;}:_ref$setRun,product=_ref.product,_ref$myStyle=_ref.myStyle,myStyle=_ref$myStyle===void 0?{backgroundImage:\"linear-gradient(rgba(0,0,0,0.1),rgba(0,0,0,0.1))\"}:_ref$myStyle;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];var _useState3=useState(product.count),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var addToCart=function addToCart(){addItem(product,function(){setRedirect(true);});};var showStock=function showStock(quantity){return quantity>0?quantity<5?/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-warning badge-pill\"},\"Only \",quantity,\" pieces left.Hurry..! Order Now.\"):/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-primary badge-pill\"},\"In Stock\"):/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-danger badge-pill\"},\"Out of Stock\");};var handleChange=function handleChange(productId){return function(event){setRun(!run);var val=event.target.value;var mx=product.quantity;if(val<1)setCount(1);else if(val>mx)setCount(product.mx);else setCount(val);//setCount(event.target.value<1 ? 1 : event.target.value);\n//setCount(event.target.value>product.quantity ? product.quantity : event.target.value);\nif(event.target.value>=1&&val<=mx){updateItem(productId,event.target.value);}};};var handleKeyPress=function handleKeyPress(){return function(event){event.preventDefault();};};var showCartUpdateOptions=function showCartUpdateOptions(cartUpdate){return cartUpdate&&/*#__PURE__*/React.createElement(\"div\",{className:\"input-group mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"span\",{className:\"input-group-text\",style:{background:\"#5c8a8a\",color:\"white\"}},\"Adjust Quantity\")),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",min:\"1\",max:product.quantity,onKeyPress:handleKeyPress(),value:count,onChange:handleChange(product._id)}));};var showAddToCartButton=function showAddToCartButton(quantity){return quantity>0?/*#__PURE__*/React.createElement(\"button\",{onClick:addToCart,className:\"btn btn-outline-warning ml-2 \"},\"Add to Cart\"):/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-warning ml-2\",disabled:true},\"Add to Cart\");};var remove=function remove(){removeItem(product._id);setRun(!run);};var showRemoveButton=function showRemoveButton(showRemoveProductButton){return showRemoveProductButton&&/*#__PURE__*/React.createElement(\"button\",{onClick:remove,className:\"btn btn-outline-danger ml-2 \"},\"Remove Product\");};var pageTop=function pageTop(){return window.scrollTo(0,0);};var shouldRedirect=function shouldRedirect(redirect){if(redirect){return/*#__PURE__*/React.createElement(Redirect,{to:\"/cart\"});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-3 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"card d-flex\",style:{position:\"relative\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\",style:{background:\"#002b80\",color:\"white\"}},/*#__PURE__*/React.createElement(\"b\",null,product.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body \",style:myStyle},shouldRedirect(redirect),/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{width:\"100%\",height:\"100%\",maxWidth:\"200px\",maxHeight:\"200px\",minHeight:\"200px\",minWidth:\"200px\",position:\"relative\"}},/*#__PURE__*/React.createElement(ShowImage,{item:product,url:\"product\"}))),/*#__PURE__*/React.createElement(\"p\",null,product.description.substring(0,25)+\".......\"),/*#__PURE__*/React.createElement(\"p\",null,\"Rs \",product.price),/*#__PURE__*/React.createElement(\"p\",null,showStock(product.quantity)),/*#__PURE__*/React.createElement(Link,{to:\"/product/\".concat(product._id)},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-primary mt-2 mb-2\",onClick:pageTop},\"View Product\")),showAddToCart&&showAddToCartButton(product.quantity),showRemoveButton(showRemoveProductButton),showCartUpdateOptions(cartUpdate))));};export default Card;","map":{"version":3,"sources":["D:/B Tech/WebD/Ecommerce_webApp/ecommerce-frontend/src/core/Card.js"],"names":["React","useState","Link","Redirect","ShowImage","addItem","updateItem","removeItem","Card","showAddToCart","showRemoveProductButton","cartUpdate","run","undefined","setRun","f","product","myStyle","backgroundImage","redirect","setRedirect","count","setCount","addToCart","showStock","quantity","handleChange","productId","event","val","target","value","mx","handleKeyPress","preventDefault","showCartUpdateOptions","background","color","_id","showAddToCartButton","remove","showRemoveButton","pageTop","window","scrollTo","shouldRedirect","position","name","width","height","maxWidth","maxHeight","minHeight","minWidth","description","substring","price"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport ShowImage from './ShowImage';\r\nimport {addItem,updateItem,removeItem} from './cartHelpers';\r\n\r\n\r\nconst Card=({showAddToCart=true,showRemoveProductButton=false,cartUpdate=false,\r\n        run = undefined,setRun = f => f,product,\r\n        myStyle={backgroundImage: \"linear-gradient(rgba(0,0,0,0.1),rgba(0,0,0,0.1))\"}})=>{\r\n\r\n    const [redirect,setRedirect]=useState(false);\r\n    const [count,setCount]=useState(product.count);\r\n\r\n    const addToCart=()=>{ \r\n        addItem(product,()=>{\r\n            setRedirect(true);  \r\n        });\r\n    };\r\n \r\n\r\n    const showStock=quantity=>{\r\n        return quantity>0 ? (\r\n            quantity<5 ? (\r\n                <span className=\"badge badge-warning badge-pill\">Only {quantity} pieces left.Hurry..! Order Now.</span>\r\n            ):(\r\n                <span className=\"badge badge-primary badge-pill\">In Stock</span>\r\n            )\r\n        ):(\r\n            <span className=\"badge badge-danger badge-pill\">Out of Stock</span>\r\n        )\r\n    };\r\n    \r\n\r\n    const handleChange=productId=>event=>{\r\n        setRun(!run); \r\n        let val=event.target.value;\r\n        let mx=product.quantity;\r\n        if(val<1)\r\n            setCount(1);\r\n        else if(val>mx)\r\n            setCount(product.mx);\r\n        else    \r\n            setCount(val);        \r\n        //setCount(event.target.value<1 ? 1 : event.target.value);\r\n        //setCount(event.target.value>product.quantity ? product.quantity : event.target.value);\r\n        if(event.target.value>=1 && val<=mx){\r\n            updateItem(productId,event.target.value);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const handleKeyPress=()=>event=>{\r\n        event.preventDefault();\r\n    }\r\n\r\n    const showCartUpdateOptions=cartUpdate=>{\r\n        return cartUpdate && (\r\n            <div className=\"input-group mb-3\" >\r\n                <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\" style={{background:\"#5c8a8a\",color:\"white\"}}>\r\n                        Adjust Quantity \r\n                    </span>\r\n                </div>\r\n                <input type=\"number\" className=\"form-control\" min=\"1\" max={product.quantity} \r\n                        onKeyPress={handleKeyPress()}\r\n                         value={count} onChange={handleChange(product._id)} />\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    const showAddToCartButton=(quantity)=>{\r\n        return quantity>0 ?(\r\n            <button onClick={addToCart} className=\"btn btn-outline-warning ml-2 \">\r\n                Add to Cart\r\n            </button>\r\n        ):(\r\n            <button className=\"btn btn-outline-warning ml-2\" disabled>\r\n                Add to Cart\r\n            </button>\r\n        )\r\n    };\r\n    \r\n    const remove=()=>{\r\n        removeItem(product._id);\r\n        setRun(!run); \r\n    }\r\n\r\n    const showRemoveButton=(showRemoveProductButton)=>{\r\n        return showRemoveProductButton && (\r\n            <button onClick={remove} className=\"btn btn-outline-danger ml-2 \">\r\n                Remove Product\r\n            </button>\r\n        );\r\n    };\r\n\r\n    const pageTop=()=>{\r\n        return window.scrollTo(0, 0);\r\n    }\r\n    \r\n\r\n    const shouldRedirect=redirect=>{\r\n        if(redirect){\r\n            return <Redirect to=\"/cart\" />\r\n        }\r\n    }\r\n\r\n\r\n    return(\r\n        <div className=\"col-4 mb-3 \" >\r\n            \r\n            <div className=\"card d-flex\" style={{position:\"relative\"}} >\r\n                <div className=\"card-header\" style={{background:\"#002b80\",color:\"white\"}}>\r\n                    <b>{product.name}</b>\r\n                </div>\r\n                <div className=\"card-body \" style={myStyle}>\r\n                    {shouldRedirect(redirect)}\r\n                <center>\r\n                    <div className=\"d-flex\" style={{width:\"100%\",height:\"100%\",maxWidth:\"200px\",maxHeight:\"200px\",minHeight:\"200px\",minWidth:\"200px\",position:\"relative\"}}>\r\n                        <ShowImage item={product} url=\"product\" /> \r\n                    </div>\r\n                </center>    \r\n                    <p >{product.description.substring(0,25)+\".......\"}</p>\r\n                    <p>Rs {product.price}</p>\r\n                    <p>{showStock(product.quantity)}</p> \r\n                    <Link to={`/product/${product._id}`}>\r\n                        <button className=\"btn btn-outline-primary mt-2 mb-2\" \r\n                                    onClick={pageTop}>\r\n                            View Product\r\n                        </button>\r\n                    </Link> \r\n                    {showAddToCart && showAddToCartButton(product.quantity)} \r\n                    {showRemoveButton(showRemoveProductButton)}\r\n                    {showCartUpdateOptions(cartUpdate)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;"]},"metadata":{},"sourceType":"module"}