{"ast":null,"code":"import { API } from '../config';\nexport const read = (userId, token) => {\n  return fetch(`${API}/user/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: 'application/json',\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const update = (userId, token, user) => {\n  return fetch(`${API}/user/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: 'application/json',\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(user)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n}; //update info in the localStorage then and there so that user does not need to signin again\n\nexport const updateUser = (user, next) => {\n  if (typeof window !== 'undefined') {\n    if (localStorage.getItem('jwt')) {\n      let auth = JSON.parse(localStorage.getItem('jwt'));\n      auth.user = user;\n      localStorage.setItem('jwt', JSON.stringify(auth));\n      next();\n    }\n  }\n};","map":{"version":3,"sources":["D:/B Tech/WebD/ecommerce-frontend/src/user/apiUser.js"],"names":["API","read","userId","token","fetch","method","headers","Accept","Authorization","then","response","json","catch","err","console","log","update","user","body","JSON","stringify","updateUser","next","window","localStorage","getItem","auth","parse","setItem"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,WAAlB;AAEA,OAAO,MAAMC,IAAI,GAAC,CAACC,MAAD,EAAQC,KAAR,KAAgB;AAC9B,SAAOC,KAAK,CAAE,GAAEJ,GAAI,SAAQE,MAAO,EAAvB,EAAyB;AACjCG,IAAAA,MAAM,EAAE,KADyB;AAEjCC,IAAAA,OAAO,EAAC;AACJC,MAAAA,MAAM,EAAC,kBADH;AAEJ,sBAAiB,kBAFb;AAGJC,MAAAA,aAAa,EAAG,UAASL,KAAM;AAH3B;AAFyB,GAAzB,CAAL,CAQNM,IARM,CAQDC,QAAQ,IAAE;AACZ,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,GAVM,EAWNC,KAXM,CAWAC,GAAG,IAAEC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAXL,CAAP;AAYH,CAbM;AAmBP,OAAO,MAAMG,MAAM,GAAC,CAACd,MAAD,EAAQC,KAAR,EAAcc,IAAd,KAAqB;AACrC,SAAOb,KAAK,CAAE,GAAEJ,GAAI,SAAQE,MAAO,EAAvB,EAAyB;AACjCG,IAAAA,MAAM,EAAE,KADyB;AAEjCC,IAAAA,OAAO,EAAC;AACJC,MAAAA,MAAM,EAAC,kBADH;AAEJ,sBAAiB,kBAFb;AAGJC,MAAAA,aAAa,EAAG,UAASL,KAAM;AAH3B,KAFyB;AAOjCe,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeH,IAAf;AAP2B,GAAzB,CAAL,CASNR,IATM,CASDC,QAAQ,IAAE;AACZ,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,GAXM,EAYNC,KAZM,CAYAC,GAAG,IAAEC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAZL,CAAP;AAaH,CAdM,C,CAiBP;;AACA,OAAO,MAAMQ,UAAU,GAAC,CAACJ,IAAD,EAAMK,IAAN,KAAa;AACjC,MAAG,OAAOC,MAAP,KAAiB,WAApB,EAAgC;AAC5B,QAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAH,EAA+B;AAC3B,UAAIC,IAAI,GAACP,IAAI,CAACQ,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAX,CAAT;AACAC,MAAAA,IAAI,CAACT,IAAL,GAAUA,IAAV;AACAO,MAAAA,YAAY,CAACI,OAAb,CAAqB,KAArB,EAA2BT,IAAI,CAACC,SAAL,CAAeM,IAAf,CAA3B;AACAJ,MAAAA,IAAI;AACP;AACJ;AACJ,CATM","sourcesContent":["import {API} from '../config';\r\n\r\nexport const read=(userId,token)=>{\r\n    return fetch(`${API}/user/${userId}`,{\r\n        method: \"GET\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const update=(userId,token,user)=>{\r\n    return fetch(`${API}/user/${userId}`,{\r\n        method: \"PUT\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user) \r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\n//update info in the localStorage then and there so that user does not need to signin again\r\nexport const updateUser=(user,next)=>{\r\n    if(typeof window!== 'undefined'){\r\n        if(localStorage.getItem('jwt')){\r\n            let auth=JSON.parse(localStorage.getItem('jwt'));\r\n            auth.user=user;\r\n            localStorage.setItem('jwt',JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}