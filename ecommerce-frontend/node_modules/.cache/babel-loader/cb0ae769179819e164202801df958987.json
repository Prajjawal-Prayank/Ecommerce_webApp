{"ast":null,"code":"import _slicedToArray from\"D:\\\\B Tech\\\\WebD\\\\Ecommerce_webApp\\\\ecommerce-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Layout from'../core/Layout';import{isAuthenticated}from'../auth';import{Link}from'react-router-dom';import{getProducts,deleteProduct}from'./apiAdmin';var ManageProducts=function ManageProducts(){var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var loadProducts=function loadProducts(){getProducts().then(function(data){if(data.error){console.log(data.error);}else{setProducts(data);}});};var delProduct=function delProduct(productId){deleteProduct(productId,user._id,token).then(function(data){if(data.error){console.log(data.error);}else{loadProducts();}});};useEffect(function(){loadProducts();},[]);return/*#__PURE__*/React.createElement(Layout,{title:\"Manage Products\",description:\"Welcome to produts inventory \".concat(user.name,\"!\"),className:\"container-fluid \"},\" \",/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row ml-5 mr-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10 ml-5\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center\"},products.length,\" products in inventory\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-group\"},products.map(function(p,i){return/*#__PURE__*/React.createElement(\"li\",{key:i,className:\"list-group-item d-flex justify-content-between align-items-center\"},/*#__PURE__*/React.createElement(\"b\",null,i+1+\") \"+p.name),\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"float-right\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin/product/update/\".concat(p._id)},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-warning mr-4\"},\"Update\")),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return delProduct(p._id);},className:\"btn btn-outline-danger\"},\"Delete\")));}))))));};export default ManageProducts;","map":{"version":3,"sources":["D:/B Tech/WebD/Ecommerce_webApp/ecommerce-frontend/src/admin/ManageProducts.js"],"names":["React","useState","useEffect","Layout","isAuthenticated","Link","getProducts","deleteProduct","ManageProducts","user","token","products","setProducts","loadProducts","then","data","error","console","log","delProduct","productId","_id","name","length","map","p","i"],"mappings":"kLAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,OAAQC,eAAR,KAA8B,SAA9B,CACA,OAASC,IAAT,KAAoB,kBAApB,CACA,OAAQC,WAAR,CAAoBC,aAApB,KAAwC,YAAxC,CAGA,GAAMC,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,EAAI,sBAEFJ,eAAe,EAFb,CAEdK,IAFc,kBAEdA,IAFc,CAETC,KAFS,kBAETA,KAFS,eAGQT,QAAQ,CAAC,EAAD,CAHhB,wCAGdU,QAHc,eAGLC,WAHK,eAKrB,GAAMC,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,EAAI,CACnBP,WAAW,GAAGQ,IAAd,CAAmB,SAAAC,IAAI,CAAE,CACrB,GAAGA,IAAI,CAACC,KAAR,CAAc,CACVC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACH,CAFD,IAEK,CACDJ,WAAW,CAACG,IAAD,CAAX,CACH,CACJ,CAND,EAOH,CARD,CAUA,GAAMI,CAAAA,UAAU,CAAC,QAAXA,CAAAA,UAAW,CAAAC,SAAS,CAAE,CACxBb,aAAa,CAACa,SAAD,CAAWX,IAAI,CAACY,GAAhB,CAAoBX,KAApB,CAAb,CACKI,IADL,CACU,SAAAC,IAAI,CAAE,CACR,GAAGA,IAAI,CAACC,KAAR,CAAc,CACVC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACH,CAFD,IAEK,CACDH,YAAY,GACf,CACJ,CAPL,EAQH,CATD,CAWAX,SAAS,CAAC,UAAI,CACVW,YAAY,GACf,CAFQ,CAEP,EAFO,CAAT,CAMA,mBACI,oBAAC,MAAD,EAAQ,KAAK,CAAC,iBAAd,CAAgC,WAAW,wCAAkCJ,IAAI,CAACa,IAAvC,KAA3C,CACI,SAAS,CAAC,kBADd,mBACkC,+CAC9B,2BAAK,SAAS,CAAC,eAAf,eACI,2BAAK,SAAS,CAAC,aAAf,eACI,0BAAI,SAAS,CAAC,aAAd,EAA6BX,QAAQ,CAACY,MAAtC,0BADJ,cAEI,8BAFJ,cAGI,0BAAI,SAAS,CAAC,YAAd,EACKZ,QAAQ,CAACa,GAAT,CAAa,SAACC,CAAD,CAAGC,CAAH,qBACV,0BAAI,GAAG,CAAEA,CAAT,CAAY,SAAS,CAAC,mEAAtB,eACI,6BAAIA,CAAC,CAAC,CAAF,CAAI,IAAJ,CAASD,CAAC,CAACH,IAAf,CADJ,kBAC6B,2BAAK,SAAS,CAAC,aAAf,eACzB,oBAAC,IAAD,EAAM,EAAE,iCAA2BG,CAAC,CAACJ,GAA7B,CAAR,eACI,8BAAQ,SAAS,CAAC,8BAAlB,WADJ,CADyB,cAIzB,8BAAQ,OAAO,CAAE,yBAAKF,CAAAA,UAAU,CAACM,CAAC,CAACJ,GAAH,CAAf,EAAjB,CAAyC,SAAS,CAAC,wBAAnD,WAJyB,CAD7B,CADU,EAAb,CADL,CAHJ,CADJ,CAD8B,CADlC,CADJ,CAwBH,CAxDD,CA2DA,cAAeb,CAAAA,cAAf","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport { Link} from 'react-router-dom';\r\nimport {getProducts,deleteProduct} from './apiAdmin';\r\n\r\n\r\nconst ManageProducts=()=>{\r\n\r\n    const {user,token}=isAuthenticated();\r\n    const [products,setProducts]=useState([]);\r\n\r\n    const loadProducts=()=>{\r\n        getProducts().then(data=>{\r\n            if(data.error){\r\n                console.log(data.error);\r\n            }else{\r\n                setProducts(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const delProduct=productId=>{   \r\n        deleteProduct(productId,user._id,token)\r\n            .then(data=>{\r\n                if(data.error){\r\n                    console.log(data.error);\r\n                }else{\r\n                    loadProducts();\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        loadProducts();\r\n    },[])\r\n\r\n   \r\n\r\n    return(\r\n        <Layout title=\"Manage Products\" description={`Welcome to produts inventory ${user.name}!`} \r\n            className=\"container-fluid \"> <center>\r\n            <div className=\"row ml-5 mr-5\">\r\n                <div className=\"col-10 ml-5\">\r\n                    <h2 className=\"text-center\">{products.length} products in inventory</h2>\r\n                    <hr />\r\n                    <ul className=\"list-group\">\r\n                        {products.map((p,i)=>(\r\n                            <li key={i} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                                <b>{i+1+\") \"+p.name}</b> <div className=\"float-right\">\r\n                                <Link to={`/admin/product/update/${p._id}`}>    \r\n                                    <button className=\"btn btn-outline-warning mr-4\" >Update</button>\r\n                                </Link>\r\n                                <button onClick={()=> delProduct(p._id)} className=\"btn btn-outline-danger\">Delete</button>                                                                \r\n                                </div>\r\n                            </li> \r\n                        ))}   \r\n                    </ul>    \r\n                </div>    \r\n            </div>    \r\n            </center>\r\n        </Layout>\r\n    );\r\n};\r\n\r\n\r\nexport default ManageProducts;"]},"metadata":{},"sourceType":"module"}