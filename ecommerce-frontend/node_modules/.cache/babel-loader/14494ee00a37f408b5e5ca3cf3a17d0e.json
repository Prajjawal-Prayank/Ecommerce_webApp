{"ast":null,"code":"import{API}from'../config';export var signup=function signup(user){//user has name,email,password\nreturn fetch(\"\".concat(API,\"/signup\"),{//fetch(url,object)\nmethod:\"POST\",headers:{Accept:'application/json',//tells the server that which content-type is understandable by the client \n\"Content-Type\":\"application/json\"//this tells backend that we are sending a json object\n},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var signin=function signin(user){//user has name,email,password\nreturn fetch(\"\".concat(API,\"/signin\"),{//fetch(url,object)\nmethod:\"POST\",headers:{Accept:'application/json',//tells the server that which content-type is understandable by the client \n\"Content-Type\":\"application/json\"//this tells backend that we are sending a json object\n},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var aurhenticate=function aurhenticate(data,next){if(typeof window!=='undefined'){//if browser has no info of any user, store this user's info\nlocalStorage.setItem('jwt',JSON.stringify(data));//sets item in the local storage\nnext();}};export var signout=function signout(next){if(typeof window!=='undefined'){//if browser has info of user, delete it\nlocalStorage.removeItem('jwt');next();//next() can be before last line of a function as well ..!!\nreturn fetch(\"\".concat(API,\"/signout\"),{method:'GET'}).then(function(response){console.log('signout',response);}).catch(function(err){console.log(err);});}};export var isAuthenticated=function isAuthenticated(){if(typeof window=='undefined'){return false;}if(localStorage.getItem('jwt')){return JSON.parse(localStorage.getItem('jwt'));}else return false;};","map":{"version":3,"sources":["D:/B Tech/WebD/Ecommerce_webApp/ecommerce-frontend/src/auth/index.js"],"names":["API","signup","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","signin","aurhenticate","data","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse"],"mappings":"AAAA,OAAQA,GAAR,KAAkB,WAAlB,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAC,QAAPA,CAAAA,MAAO,CAACC,IAAD,CAAQ,CAAW;AACnC,MAAOC,CAAAA,KAAK,WAAIH,GAAJ,YAAiB,CAAc;AACvCI,MAAM,CAAC,MADkB,CAEzBC,OAAO,CAAC,CACJC,MAAM,CAAC,kBADH,CACgC;AACpC,eAAiB,kBAAuB;AAFpC,CAFiB,CAMzBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf,CANmB,CAAjB,CAAL,CAQFQ,IARE,CAQG,SAAAC,QAAQ,CAAE,CACZ,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACH,CAVE,EAWFC,KAXE,CAWI,SAAAC,GAAG,CAAE,CACRC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAbE,CAAP,CAcH,CAfM,CAkBP,MAAO,IAAMG,CAAAA,MAAM,CAAC,QAAPA,CAAAA,MAAO,CAACf,IAAD,CAAQ,CAAW;AACnC,MAAOC,CAAAA,KAAK,WAAIH,GAAJ,YAAiB,CAAc;AACvCI,MAAM,CAAC,MADkB,CAEzBC,OAAO,CAAC,CACJC,MAAM,CAAC,kBADH,CACgC;AACpC,eAAiB,kBAAuB;AAFpC,CAFiB,CAMzBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf,CANmB,CAAjB,CAAL,CAQFQ,IARE,CAQG,SAAAC,QAAQ,CAAE,CACZ,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACH,CAVE,EAWFC,KAXE,CAWI,SAAAC,GAAG,CAAE,CACRC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAbE,CAAP,CAcH,CAfM,CAkBP,MAAO,IAAMI,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAACC,IAAD,CAAMC,IAAN,CAAa,CACnC,GAAG,MAAOC,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAAO;AACpCC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA2Bf,IAAI,CAACC,SAAL,CAAeU,IAAf,CAA3B,EAAoD;AACpDC,IAAI,GACP,CACJ,CALM,CAOP,MAAO,IAAMI,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,CAACJ,IAAD,CAAQ,CACzB,GAAG,MAAOC,CAAAA,MAAP,GAAkB,WAArB,CAAiC,CAAO;AACpCC,YAAY,CAACG,UAAb,CAAwB,KAAxB,EACAL,IAAI,GAAgC;AACpC,MAAOjB,CAAAA,KAAK,WAAIH,GAAJ,aAAkB,CAC1BI,MAAM,CAAC,KADmB,CAAlB,CAAL,CAGNM,IAHM,CAGD,SAAAC,QAAQ,CAAE,CACZI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAsBL,QAAtB,EACH,CALM,EAMNE,KANM,CAMA,SAAAC,GAAG,CAAE,CACRC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CARM,CAAP,CASH,CACJ,CAdM,CAiBP,MAAO,IAAMY,CAAAA,eAAe,CAAC,QAAhBA,CAAAA,eAAgB,EAAI,CAC7B,GAAG,MAAOL,CAAAA,MAAP,EAAiB,WAApB,CAAgC,CAC5B,MAAO,MAAP,CACH,CACD,GAAGC,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAH,CAA+B,CAC3B,MAAOnB,CAAAA,IAAI,CAACoB,KAAL,CAAWN,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAX,CAAP,CACH,CAFD,IAGI,OAAO,MAAP,CACP,CARM","sourcesContent":["import {API} from '../config';\r\n\r\nexport const signup=(user)=>{          //user has name,email,password\r\n    return fetch(`${API}/signup`,{             //fetch(url,object)\r\n        method:\"POST\",      \r\n        headers:{\r\n            Accept:'application/json',          //tells the server that which content-type is understandable by the client \r\n            \"Content-Type\" : \"application/json\",    //this tells backend that we are sending a json object\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response=>{\r\n            return response.json();\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const signin=(user)=>{          //user has name,email,password\r\n    return fetch(`${API}/signin`,{             //fetch(url,object)\r\n        method:\"POST\",      \r\n        headers:{\r\n            Accept:'application/json',          //tells the server that which content-type is understandable by the client \r\n            \"Content-Type\" : \"application/json\",    //this tells backend that we are sending a json object\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response=>{\r\n            return response.json();\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const aurhenticate=(data,next)=>{\r\n    if(typeof window !== 'undefined'){      //if browser has no info of any user, store this user's info\r\n        localStorage.setItem('jwt',JSON.stringify(data));   //sets item in the local storage\r\n        next();\r\n    }\r\n}\r\n\r\nexport const signout=(next)=>{\r\n    if(typeof window !== 'undefined'){      //if browser has info of user, delete it\r\n        localStorage.removeItem('jwt');\r\n        next();                             //next() can be before last line of a function as well ..!!\r\n        return fetch(`${API}/signout`,{\r\n            method:'GET'\r\n        })\r\n        .then(response=>{\r\n            console.log('signout',response);\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const isAuthenticated=()=>{\r\n    if(typeof window == 'undefined'){\r\n        return false;\r\n    }\r\n    if(localStorage.getItem('jwt')){\r\n        return JSON.parse(localStorage.getItem('jwt'));\r\n    }else\r\n        return false;\r\n}"]},"metadata":{},"sourceType":"module"}