{"ast":null,"code":"import{API}from'../config';import queryString from'query-string';export var getProducts=function getProducts(sortBy){return fetch(\"\".concat(API,\"/products?sortBy=\").concat(sortBy,\"&order=desc&limit=6\"),{method:\"GET\"}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var getCategories=function getCategories(){return fetch(\"\".concat(API,\"/categories\"),{method:\"GET\"}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var getFilteredProducts=function getFilteredProducts(skip,limit){var filters=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var data={limit:limit,skip:skip,filters:filters};return fetch(\"\".concat(API,\"/products/by/search\"),{method:\"POST\",headers:{Accept:'application/json',\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var list=function list(params){var query=queryString.stringify(params);//transforms URL,adding/concatenating each param by &\nreturn fetch(\"\".concat(API,\"/products/search?\").concat(query),{method:\"GET\"}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var read=function read(productId){return fetch(\"\".concat(API,\"/product/\").concat(productId),{method:\"GET\"}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var listRelated=function listRelated(productId){return fetch(\"\".concat(API,\"/products/related/\").concat(productId),{method:\"GET\"}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var getBraintreeClientToken=function getBraintreeClientToken(userId,token){return fetch(\"\".concat(API,\"/braintree/getToken/\").concat(userId),{method:\"GET\",headers:{Accept:'application/json',\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var processPayment=function processPayment(userId,token,paymentData){return fetch(\"\".concat(API,\"/braintree/payment/\").concat(userId),{method:\"POST\",headers:{Accept:'application/json',\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify(paymentData)}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};export var createOrder=function createOrder(userId,token,createOrderData){return fetch(\"\".concat(API,\"/order/create/\").concat(userId),{method:\"POST\",headers:{Accept:'application/json',\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({order:createOrderData})}).then(function(response){return response.json();}).catch(function(err){return console.log(err);});};","map":{"version":3,"sources":["D:/B Tech/WebD/Ecommerce_webApp/ecommerce-frontend/src/core/apiCore.js"],"names":["API","queryString","getProducts","sortBy","fetch","method","then","response","json","catch","err","console","log","getCategories","getFilteredProducts","skip","limit","filters","data","headers","Accept","body","JSON","stringify","list","params","query","read","productId","listRelated","getBraintreeClientToken","userId","token","Authorization","processPayment","paymentData","createOrder","createOrderData","order"],"mappings":"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","sourcesContent":["import {API} from '../config';\r\nimport queryString from 'query-string';\r\n\r\nexport const getProducts=(sortBy)=>{\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\nexport const getCategories=()=>{\r\n    return fetch(`${API}/categories`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\nexport const getFilteredProducts=(skip,limit,filters={})=>{    \r\n\r\n    const data={\r\n        limit,skip,filters\r\n    };\r\n\r\n    return fetch(`${API}/products/by/search`,{      \r\n        method:\"POST\",      \r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then(response=>{\r\n            return response.json();\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const list=params=>{\r\n    const query=queryString.stringify(params);  //transforms URL,adding/concatenating each param by &\r\n    return fetch(`${API}/products/search?${query}`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\nexport const read=(productId)=>{\r\n    return fetch(`${API}/product/${productId}`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\nexport const listRelated=productId=>{\r\n    return fetch(`${API}/products/related/${productId}`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\nexport const getBraintreeClientToken=(userId,token)=>{\r\n    return fetch(`${API}/braintree/getToken/${userId}`,{\r\n        method: \"GET\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\n\r\nexport const processPayment=(userId,token,paymentData)=>{\r\n    return fetch(`${API}/braintree/payment/${userId}`,{\r\n        method: \"POST\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(paymentData) \r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\nexport const createOrder=(userId,token,createOrderData)=>{\r\n    return fetch(`${API}/order/create/${userId}`,{\r\n        method: \"POST\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({order:createOrderData}) \r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n"]},"metadata":{},"sourceType":"module"}