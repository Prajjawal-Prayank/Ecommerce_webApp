{"ast":null,"code":"import _slicedToArray from\"D:\\\\B Tech\\\\WebD\\\\Ecommerce_webApp\\\\ecommerce-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Layout from'./Layout';import{getProducts}from'./apiCore';import Card from'./Card';import Search from'./Search';//since <Route component> is used to render Home component, so all route props \n//(match, location and history) are available to to Home component\nvar Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productsBySell=_useState2[0],setproductsBySell=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productsByArrival=_useState4[0],setproductsByArrival=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var loadProductsBySell=function loadProductsBySell(){getProducts('sold').then(function(data){console.log(\"data-\");console.log(data);if(data.error){setError(data.error);}else{//setproductsBySell(productsBySell=>productsBySell.concat(data));\nsetproductsBySell(data);}});};var loadProductsByArrival=function loadProductsByArrival(){getProducts('createdAt').then(function(data){if(data.error){setError(data.error);}else{//setproductsByArrival(productsByArrival=>productsByArrival.concat(data));\nsetproductsByArrival(data);}});};useEffect(function(){loadProductsByArrival();loadProductsBySell();},[]);return/*#__PURE__*/React.createElement(Layout,{title:\"Home Page\",description:\"E-commerce App\",className:\"container-fluid\"},/*#__PURE__*/React.createElement(Search,null),/*#__PURE__*/React.createElement(\"h2\",{className:\"mb-4\"},\"New Arrivals\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},productsByArrival.map(function(product,i){return/*#__PURE__*/React.createElement(Card,{key:i,product:product});})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",{className:\"mb-4 \"},\"Best Sellers\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},productsBySell.map(function(product,i){return/*#__PURE__*/React.createElement(Card,{key:i,product:product});})));};export default Home;","map":{"version":3,"sources":["D:/B Tech/WebD/Ecommerce_webApp/ecommerce-frontend/src/core/Home.js"],"names":["React","useState","useEffect","Layout","getProducts","Card","Search","Home","productsBySell","setproductsBySell","productsByArrival","setproductsByArrival","error","setError","loadProductsBySell","then","data","console","log","loadProductsByArrival","map","product","i"],"mappings":"kLAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAAQC,WAAR,KAA0B,WAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA;AACA;AACA,GAAMC,CAAAA,IAAI,CAAC,QAALA,CAAAA,IAAK,EAAM,eAE4BN,QAAQ,CAAC,EAAD,CAFpC,wCAENO,cAFM,eAESC,iBAFT,8BAGkCR,QAAQ,CAAC,EAAD,CAH1C,yCAGNS,iBAHM,eAGYC,oBAHZ,8BAIUV,QAAQ,CAAC,KAAD,CAJlB,yCAINW,KAJM,eAIAC,QAJA,eAMb,GAAMC,CAAAA,kBAAkB,CAAC,QAAnBA,CAAAA,kBAAmB,EAAI,CACzBV,WAAW,CAAC,MAAD,CAAX,CACCW,IADD,CACM,SAAAC,IAAI,CAAE,CAAIC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBD,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACjC,GAAGA,IAAI,CAACJ,KAAR,CAAc,CACVC,QAAQ,CAACG,IAAI,CAACJ,KAAN,CAAR,CACH,CAFD,IAGI,CACA;AACAH,iBAAiB,CAACO,IAAD,CAAjB,CACH,CACJ,CATD,EAUH,CAXD,CAaA,GAAMG,CAAAA,qBAAqB,CAAC,QAAtBA,CAAAA,qBAAsB,EAAI,CAC5Bf,WAAW,CAAC,WAAD,CAAX,CACCW,IADD,CACM,SAAAC,IAAI,CAAE,CACR,GAAGA,IAAI,CAACJ,KAAR,CAAc,CACVC,QAAQ,CAACG,IAAI,CAACJ,KAAN,CAAR,CACH,CAFD,IAGI,CACA;AACAD,oBAAoB,CAACK,IAAD,CAApB,CACH,CACJ,CATD,EAUH,CAXD,CAaAd,SAAS,CAAC,UAAI,CACViB,qBAAqB,GACrBL,kBAAkB,GACrB,CAHQ,CAGP,EAHO,CAAT,CAKA,mBACI,oBAAC,MAAD,EAAQ,KAAK,CAAC,WAAd,CAA0B,WAAW,CAAC,gBAAtC,CAAuD,SAAS,CAAC,iBAAjE,eACI,oBAAC,MAAD,MADJ,cAEI,0BAAI,SAAS,CAAC,MAAd,iBAFJ,cAGI,2BAAK,SAAS,CAAC,KAAf,EACKJ,iBAAiB,CAACU,GAAlB,CAAsB,SAACC,OAAD,CAASC,CAAT,qBACnB,oBAAC,IAAD,EAAM,GAAG,CAAEA,CAAX,CAAc,OAAO,CAAED,OAAvB,EADmB,EAAtB,CADL,CAHJ,cASI,8BATJ,cASS,8BATT,cAUI,0BAAI,SAAS,CAAC,OAAd,iBAVJ,cAWI,2BAAK,SAAS,CAAC,KAAf,EACKb,cAAc,CAACY,GAAf,CAAmB,SAACC,OAAD,CAASC,CAAT,qBAChB,oBAAC,IAAD,EAAM,GAAG,CAAEA,CAAX,CAAc,OAAO,CAAED,OAAvB,EADgB,EAAnB,CADL,CAXJ,CADJ,CAoBH,CAzDD,CA2DA,cAAed,CAAAA,IAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport Layout from './Layout';\r\nimport {getProducts} from './apiCore';\r\nimport Card from './Card';\r\nimport Search from './Search';\r\n\r\n//since <Route component> is used to render Home component, so all route props \r\n//(match, location and history) are available to to Home component\r\nconst Home=()=>  {\r\n\r\n    const [productsBySell,setproductsBySell]=useState([]);\r\n    const [productsByArrival,setproductsByArrival]=useState([]);\r\n    const [error,setError]=useState(false);\r\n\r\n    const loadProductsBySell=()=>{\r\n        getProducts('sold')\r\n        .then(data=>{   console.log(\"data-\");console.log(data);\r\n            if(data.error){\r\n                setError(data.error);\r\n            }\r\n            else{ \r\n                //setproductsBySell(productsBySell=>productsBySell.concat(data));\r\n                setproductsBySell(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadProductsByArrival=()=>{\r\n        getProducts('createdAt')\r\n        .then(data=>{\r\n            if(data.error){\r\n                setError(data.error);\r\n            }\r\n            else{   \r\n                //setproductsByArrival(productsByArrival=>productsByArrival.concat(data));\r\n                setproductsByArrival(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(()=>{\r\n        loadProductsByArrival();\r\n        loadProductsBySell();\r\n    },[]);\r\n\r\n    return(\r\n        <Layout title='Home Page' description='E-commerce App' className=\"container-fluid\">\r\n            <Search />\r\n            <h2 className=\"mb-4\">New Arrivals</h2>\r\n            <div className=\"row\">\r\n                {productsByArrival.map((product,i)=>(\r\n                    <Card key={i} product={product} />\r\n                ))}\r\n            </div>\r\n\r\n            <br/><br/>\r\n            <h2 className=\"mb-4 \">Best Sellers</h2>\r\n            <div className='row'>\r\n                {productsBySell.map((product,i)=>(\r\n                    <Card key={i} product={product} />\r\n                ))}\r\n            </div>\r\n\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}