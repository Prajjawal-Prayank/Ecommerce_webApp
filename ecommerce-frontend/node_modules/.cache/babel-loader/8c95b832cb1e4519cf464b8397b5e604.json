{"ast":null,"code":"var _jsxFileName = \"D:\\\\B Tech\\\\WebD\\\\ecommerce-frontend\\\\src\\\\core\\\\Product.js\";\nimport React, { useState, useEffect } from 'react';\nimport Layout from './Layout';\nimport { read, listRelated } from './apiCore';\nimport Card from './Card';\nimport ShowImage from './ShowImage';\nimport moment from 'moment';\n\nconst Product = props => {\n  const [product, setProduct] = useState({});\n  const [error, setError] = useState(false);\n  const [relatedProduct, setRelatedProduct] = useState([]);\n\n  const loadSingleProduct = productId => {\n    read(productId).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data); //fetching the related products (based on category)\n\n        listRelated(data._id).then(products => {\n          if (products.error) {\n            setError(products.error);\n          } else {\n            setRelatedProduct(products);\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const productId = props.match.params.productId; //props object is provided by react-router-dom\n    //we are extracting productId FROM URL at the time the Product component is mounted. This \n    //is because we want to display all the info as soon as the page loads.\n\n    loadSingleProduct(productId);\n  }, [props]); //specifyin \"props\" here means that whenever there is a change in props object\n  //useEffect will run again.This helps in rendering the next item in related proucts.\n\n  const showAddToCartButton = quantity => {\n    return quantity > 0 ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-warning mt-2 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, \"Add to Cart\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-warning mt-2 mb-2\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, \"Add to Cart\");\n  };\n\n  const showStock = quantity => {\n    return quantity > 0 ? quantity < 5 ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge badge-warning badge-pill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, \"Only \", quantity, \" pieces left.Hurry..! Order Now.\") : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge badge-primary badge-pill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, \"In Stock\") : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge badge-danger badge-pill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, \"Out of Stock\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundImage: \"linear-gradient(rgba(0,0,0,0.1),rgba(0,0,0,0.1))\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Layout, {\n    title: product && product.name,\n    description: product.category && product.category.name,\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4 mt-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ShowImage, {\n    item: product,\n    url: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 \",\n    style: {\n      margin: \"30px\",\n      whiteSpace: \"pre-wrap\",\n      marginRight: \"40\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, product.description), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, \"Price :\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, \"Rs \" + product.price)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, \"Added \", moment(product.createdAt).fromNow(), \"...\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, showStock(product.quantity)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, showAddToCartButton(product.quantity)))), relatedProduct && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }, \"Related Products\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container horizontal-scrollable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, relatedProduct && relatedProduct.map((product, i) => /*#__PURE__*/React.createElement(Card, {\n    key: i,\n    product: product,\n    myStyle: {\n      backgroundImage: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }))))));\n};\n\nexport default Product;\n/*\r\nstyle={{border:\"thick solid #0000FF\",margin:\"30px\",whiteSpace:\"pre\",\r\n                                overflowWrap: \"break-word\",wordWrap: \"break-word\",hyphens:\"auto\",\r\n                                textOverflow: \"ellipsis\"}}\r\n<p style={{whiteSpace:\"normal\",overflowWrap: \"break-word\",hyphens:\"auto\"}}> \r\nstyle={{overflow:\"auto\",whiteSpace:\"nowrap\"}}                               \r\n*/","map":{"version":3,"sources":["D:/B Tech/WebD/ecommerce-frontend/src/core/Product.js"],"names":["React","useState","useEffect","Layout","read","listRelated","Card","ShowImage","moment","Product","props","product","setProduct","error","setError","relatedProduct","setRelatedProduct","loadSingleProduct","productId","then","data","_id","products","match","params","showAddToCartButton","quantity","showStock","backgroundImage","name","category","margin","whiteSpace","marginRight","description","price","createdAt","fromNow","map","i"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport Layout from './Layout';\r\nimport {read,listRelated} from './apiCore';\r\nimport Card from './Card';\r\nimport ShowImage from './ShowImage';\r\nimport moment from 'moment';\r\n\r\nconst Product=(props)=>{\r\n\r\n    const [product,setProduct]=useState({});\r\n    const [error,setError]=useState(false);\r\n    const [relatedProduct,setRelatedProduct]=useState([]);\r\n\r\n    const loadSingleProduct=productId=>{\r\n        read(productId)\r\n        .then(data=>{\r\n            if(data.error){\r\n                setError(data.error);\r\n            }else{\r\n                setProduct(data);\r\n                //fetching the related products (based on category)\r\n                listRelated(data._id)\r\n                    .then(products=>{\r\n                        if(products.error){\r\n                            setError(products.error);\r\n                        }else{\r\n                            setRelatedProduct(products);\r\n                        }\r\n                    })\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(()=>{\r\n        const productId=props.match.params.productId;   //props object is provided by react-router-dom\r\n            //we are extracting productId FROM URL at the time the Product component is mounted. This \r\n            //is because we want to display all the info as soon as the page loads.\r\n        loadSingleProduct(productId);\r\n    },[props]);     //specifyin \"props\" here means that whenever there is a change in props object\r\n                    //useEffect will run again.This helps in rendering the next item in related proucts.\r\n\r\n\r\n    const showAddToCartButton=quantity=>{\r\n        return quantity>0 ?(\r\n            <button className=\"btn btn-outline-warning mt-2 mb-2\">\r\n                Add to Cart\r\n            </button>\r\n        ):(\r\n            <button className=\"btn btn-outline-warning mt-2 mb-2\" disabled>\r\n                Add to Cart\r\n            </button>\r\n        )\r\n    };\r\n\r\n    const showStock=quantity=>{\r\n        return quantity>0 ? (\r\n            quantity<5 ? (\r\n                <span className=\"badge badge-warning badge-pill\">Only {quantity} pieces left.Hurry..! Order Now.</span>\r\n            ):(\r\n                <span className=\"badge badge-primary badge-pill\">In Stock</span>\r\n            )\r\n        ):(\r\n            <span className=\"badge badge-danger badge-pill\">Out of Stock</span>\r\n        )\r\n    };\r\n\r\n\r\n\r\n    return (\r\n    <div style={{backgroundImage: \"linear-gradient(rgba(0,0,0,0.1),rgba(0,0,0,0.1))\"}}>\r\n        <Layout title={product && product.name} \r\n            description={product.category && product.category.name} className=\"container-fluid\" >\r\n            \r\n            <div className=\"row\" >\r\n                <div className=\"col-4 mt-10\">\r\n                    <ShowImage item={product} url=\"product\" />\r\n                </div>\r\n                <div className=\"col-6 \" \r\n                    style={{margin:\"30px\",whiteSpace:\"pre-wrap\",\r\n                               marginRight:\"40\" }}>\r\n                        <h2>Description</h2>\r\n                        <p className=\"lead\">\r\n                            {(product.description) }\r\n                        </p>\r\n                        <p>\r\n                            <h4>Price :</h4> \r\n                            <h6>{\"Rs \"+product.price}</h6>\r\n                        </p>\r\n                        <p>\r\n                            <h6>Added {moment(product.createdAt).fromNow()}...</h6>\r\n                        </p>\r\n                        <p>\r\n                            {showStock(product.quantity)}\r\n                        </p>\r\n                        <p>\r\n                            {showAddToCartButton(product.quantity)}\r\n                        </p>                    \r\n                </div>\r\n            </div>\r\n            {relatedProduct && (<div className=\"mt-4\">\r\n                                    <h2>Related Products</h2>\r\n                                </div> )}  \r\n            <div className=\"container horizontal-scrollable\">\r\n            <div >\r\n                    {relatedProduct && relatedProduct.map((product,i)=>(\r\n                        <Card key={i} product={product} myStyle={{backgroundImage:\"none\"}} />\r\n                    ))}\r\n            </div>      \r\n            </div>                               \r\n        </Layout>  \r\n    </div> \r\n    );\r\n};\r\n\r\nexport default Product;\r\n/*\r\nstyle={{border:\"thick solid #0000FF\",margin:\"30px\",whiteSpace:\"pre\",\r\n                                overflowWrap: \"break-word\",wordWrap: \"break-word\",hyphens:\"auto\",\r\n                                textOverflow: \"ellipsis\"}}\r\n<p style={{whiteSpace:\"normal\",overflowWrap: \"break-word\",hyphens:\"auto\"}}> \r\nstyle={{overflow:\"auto\",whiteSpace:\"nowrap\"}}                               \r\n*/                                "]},"metadata":{},"sourceType":"module"}