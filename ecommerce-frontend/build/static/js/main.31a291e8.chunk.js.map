{"version":3,"sources":["config.js","auth/index.js","core/cartHelpers.js","core/Menu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","core/Home.js","auth/PrivateRoute.js","auth/AdminRoute.js","user/UserDashboard.js","user/apiUser.js","user/Profile.js","user/AdminDashboard.js","admin/apiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","admin/Orders.js","core/Checkbox.js","core/fixedPrices.js","core/RadioBox.js","core/Shop.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/ManageProducts.js","admin/UpdateProduct.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","addItem","item","next","cart","push","count","Array","from","Set","map","p","_id","id","find","setItem","stringify","isActive","history","path","location","pathname","color","withRouter","style","position","className","to","user","role","length","cursor","onClick","removeItem","fetch","method","then","response","console","log","catch","err","signout","Layout","title","description","children","Signup","useState","name","email","password","confirmPassword","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","headers","Accept","body","json","data","display","onChange","type","Signin","loading","redirectToReferrer","signin","aurhenticate","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","ShowImage","url","src","alt","height","borderRadius","maxWidth","maxHeight","width","Card","quantity","showAddToCart","showRemoveProductButton","cartUpdate","run","undefined","setRun","f","product","myStyle","backgroundImage","redirect","setRedirect","setCount","addToCart","productId","val","mx","i","updateItem","remove","splice","background","shouldRedirect","minHeight","minWidth","substring","price","scrollTo","disabled","showAddToCartButton","showRemoveButton","min","max","onKeyPress","showCartUpdateOptions","Search","categories","category","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","searchMessage","onSubmit","c","key","placeholder","border","searchedProducts","Home","productsBySell","setproductsBySell","productsByArrival","setproductsByArrival","setError","PrivateRoute","Component","component","rest","render","props","state","AdminRoute","Dashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","lof","h","products","moment","createdAt","format","purchaseHistory","Profile","match","newPassword","read","e","update","auth","updateUser","profileUpdate","redirectUser","AdminDashboard","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","autoFocus","required","AddProduct","shipping","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","result","Object","keys","Number","document","getElementById","selectedIndex","accept","whiteSpace","idx","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","handleChangeStatus","orderId","status","updateOrderStatus","showInput","readOnly","Accordion","order","Toggle","as","Header","eventKey","Collapse","Body","o","transaction_Id","amount","fromNow","address","padding","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","prices","array","RadioBox","setValue","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","parseInt","Product","setProduct","relatedProduct","setRelatedProduct","loadSingleProduct","listRelated","margin","marginRight","Checkout","clientToken","instance","modal","makeVisible","sc","setSc","ta","setTa","getToken","getBraintreeClientToken","getTotal","reduce","currentTotal","currentItem","toFixed","showModalFun","alert","showTa","handleAddress","buy","deliveryAddress","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","processPayment","createOrderData","transaction","createOrder","message","load","showLoad","colSpan","float","marginBottom","showCheckout","setTimeout","reload","showLoading","options","authorization","onInstance","showModal","Cart","items","setItems","ManageProducts","setProducts","loadProducts","delProduct","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","Routes","exact","ReactDOM"],"mappings":"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","file":"static/js/main.31a291e8.chunk.js","sourcesContent":["export const API=process.env.REACT_APP_API_URL;","import {API} from '../config';\r\n\r\nexport const signup=(user)=>{          //user has name,email,password\r\n    return fetch(`${API}/signup`,{             //fetch(url,object)\r\n        method:\"POST\",      \r\n        headers:{\r\n            Accept:'application/json',          //tells the server that which content-type is understandable by the client \r\n            \"Content-Type\" : \"application/json\",    //this tells backend that we are sending a json object\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response=>{\r\n            return response.json();\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const signin=(user)=>{          //user has name,email,password\r\n    return fetch(`${API}/signin`,{             //fetch(url,object)\r\n        method:\"POST\",      \r\n        headers:{\r\n            Accept:'application/json',          //tells the server that which content-type is understandable by the client \r\n            \"Content-Type\" : \"application/json\",    //this tells backend that we are sending a json object\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response=>{\r\n            return response.json();\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const aurhenticate=(data,next)=>{\r\n    if(typeof window !== 'undefined'){      //if browser has no info of any user, store this user's info\r\n        localStorage.setItem('jwt',JSON.stringify(data));   //sets item in the local storage\r\n        next();\r\n    }\r\n}\r\n\r\nexport const signout=(next)=>{\r\n    if(typeof window !== 'undefined'){      //if browser has info of user, delete it\r\n        localStorage.removeItem('jwt');\r\n        next();                             //next() can be before last line of a function as well ..!!\r\n        return fetch(`${API}/signout`,{\r\n            method:'GET'\r\n        })\r\n        .then(response=>{\r\n            console.log('signout',response);\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const isAuthenticated=()=>{\r\n    if(typeof window == 'undefined'){\r\n        return false;\r\n    }\r\n    if(localStorage.getItem('jwt')){\r\n        return JSON.parse(localStorage.getItem('jwt'));\r\n    }else\r\n        return false;\r\n}","export const addItem = (item = [],  next ) => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n        cart.push({\r\n            ...item,\r\n            count: 1\r\n        });\r\n\r\n        // remove duplicates\r\n        // build an Array from new Set and turn it back into array using Array.from\r\n        // so that later we can re-map it\r\n        // new set will only allow unique values in it\r\n        // so pass the ids of each object/product\r\n        // If the loop tries to add the same value again, it'll get ignored\r\n        // ...with the array of ids we got on when first map() was used\r\n        // run map() on it again and return the actual product from the cart\r\n\r\n        cart = Array.from(new Set(cart.map(p => p._id))).map(id => {\r\n            return cart.find(p => p._id === id);\r\n        });\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n        next();\r\n    }\r\n};\r\n\r\n\r\nexport const itemTotal = () => {\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            return JSON.parse(localStorage.getItem('cart')).length;\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\n\r\nexport const getCart = () => {\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            return JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n    }\r\n    return [];\r\n};\r\n\r\nexport const updateItem = (productId, count) => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if (product._id === productId) {\r\n                cart[i].count = count;\r\n            }\r\n        });\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n    }\r\n};\r\n\r\n\r\nexport const removeItem = productId => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if (product._id === productId) {\r\n                cart.splice(i, 1);\r\n            }\r\n        });\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n    }\r\n    return cart;\r\n};\r\n\r\nexport const emptyCart = next => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('cart');\r\n        next();\r\n    }\r\n};","import React,{Fragment} from 'react';\r\nimport {withRouter,Link} from 'react-router-dom';\r\nimport {signout,isAuthenticated} from '../auth';\r\nimport {itemTotal} from './cartHelpers';\r\n\r\nconst isActive=(history,path)=>{\r\n    if(history.location.pathname===path){\r\n        return {color: '#ff9900'};\r\n    }\r\n    else    \r\n        return {color:'#ffffff'};\r\n};\r\n\r\nconst Menu=({history})=>(\r\n    <div style={{position:\"-webkit-sticky\",position:\"sticky\",top:0,zIndex:12}}>\r\n        <ul className=\"nav nav-tabs bg-primary\" >    \r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" style={isActive(history,'/')} to=\"/\">\r\n                    Home\r\n                </Link>\r\n            </li>\r\n            \r\n\r\n            {isAuthenticated() && isAuthenticated().user.role===0 && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive(history,'/user/dashboard')} to=\"/user/dashboard\">\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role===1 && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" style={isActive(history,'/admin/dashboard')} to=\"/admin/dashboard\">\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n\r\n                \r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" style={isActive(history,'/shop')} to=\"/shop\">\r\n                    Shop\r\n                </Link>\r\n            </li>\r\n\r\n\r\n            <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" style={isActive(history,'/cart')} to=\"/cart\">\r\n                    Cart <sup className=\"badge badge-dark\">{itemTotal()}</sup>\r\n                </Link>\r\n            </li>\r\n\r\n\r\n\r\n            {\r\n                //if user is  authenticated(or,logged in),don't show signin and signup options\r\n                //also, Fragment is used because we needed to wrap multiple blocks else <div> would\r\n                //have created extra node to the DOM, tus messing the styling.\r\n            }\r\n            {!isAuthenticated() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" style={isActive(history,'/signin')} to=\"/signin\">\r\n                            SignIn\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link\" style={isActive(history,'/signup')} to=\"/signup\">\r\n                            SignUp\r\n                        </Link>\r\n                    </li>\r\n                </Fragment>\r\n            )}\r\n\r\n            {\r\n                //if user is  authenticated(or,logged in),show signout option as well\r\n            }\r\n            {isAuthenticated() && (\r\n                <li className=\"nav-item\">\r\n                    <span className=\"nav-link\" style={{cursor:'pointer', color:'#ffffff'}} \r\n                            onClick={()=>signout(()=>{\r\n                                history.push('/');  //redirect the user to home page \r\n                            })}>\r\n                        SignOut\r\n                    </span>\r\n                </li>\r\n            )}\r\n\r\n        </ul>\r\n    </div>\r\n);\r\n\r\nexport default withRouter(Menu);","import React from 'react';    \r\nimport Menu from './Menu';\r\nimport '../styles.css'\r\n\r\nconst Layout=({title='Title',description='Description',className,children})=> (\r\n    <div >\r\n        <Menu />\r\n        <div className=\"jumbotron\" >\r\n            <h2 >{title}</h2>\r\n            <p className='lead' >{description}</p>            \r\n        </div>\r\n        <div className={className}> \r\n            {children}\r\n        </div>\r\n    </div>    \r\n);\r\n\r\nexport default Layout;","import React,{useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport {signup} from '../auth';\r\n    //since signup() is in \"index.js\" ,we don't specifically need to write that file's name. \r\n\r\nconst Signup=()=> {\r\n    const [values,setValues]=useState({\r\n        name:\"\",\r\n        email:\"\",\r\n        password:\"\",\r\n        confirmPassword:\"\",\r\n        error:\"\",\r\n        success:false\r\n    });\r\n\r\n    const {name,email,password,success,error,confirmPassword}=values;\r\n\r\n    //higher order function\r\n    const handleChange=name=>event=>{\r\n        setValues({...values,error:false, [name]:event.target.value});  \r\n            //ALERT!- square bracket is used in name..and curly braces overall\r\n    };\r\n\r\n    \r\n\r\n    const clickSubmit=(event)=>{\r\n        event.preventDefault(); //this is done to prevent Default action on clicking button.\r\n                                //The default action is that the page gets reloaded   \r\n        setValues({...values,error:false});\r\n        signup({name,email,password,confirmPassword})\r\n            //since the key and value are same in name:name,email:email,password:password ,so\r\n            //we write this way\r\n            .then(data=>{ \r\n                if(data.error){\r\n                    setValues({...values,error: data.error,confirmPassword:'', success:false});\r\n                }else{\r\n                    setValues({...values,\r\n                            name:'',\r\n                            email:'',\r\n                            password:'',\r\n                            confirmPassword:'',\r\n                            error:'',\r\n                            success:true\r\n                    });\r\n                }\r\n            });    \r\n    };\r\n\r\n    const signUpForm=()=>(\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Confirm Password</label>\r\n                <input onChange={handleChange('confirmPassword')} type=\"password\" className=\"form-control\" value={confirmPassword}/>\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    const showError=()=>(\r\n        <div className=\"alert alert-danger\" style={{display:error?'':'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n    //curly braces were not used in this function. So, () is used.No return () statement.\r\n\r\n\r\n    const showSuccess=()=>(\r\n        <div className=\"alert alert-info\" style={{display:success?'':'none'}}>\r\n            Account successfully created. \r\n            Please <Link to='/signin'>Signin</Link>  to continue.\r\n        </div>\r\n    );\r\n\r\n    return(     //curly braces were used in this function. So, return() is used.\r\n        <Layout title='Signup' description='Signup to E-commerce App' \r\n        className=\"container col-md-6 offset-md-2\">\r\n            {showError()}\r\n            {showSuccess()}\r\n            {signUpForm()}\r\n        </Layout>\r\n    );\r\n};\r\n\r\n\r\nexport default Signup;","import React,{useState} from 'react';\r\nimport { Redirect} from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport {signin,aurhenticate,isAuthenticated} from '../auth';\r\n    //since signin() is in \"index.js\" ,we don't specifically need to write that file's name. \r\n\r\nconst Signin=()=> {\r\n    const [values,setValues]=useState({\r\n        email:\"\",\r\n        password:\"\",\r\n        error:\"\",\r\n        loading:false,\r\n        redirectToReferrer:false\r\n    });\r\n\r\n    const {email,password,loading,error,redirectToReferrer}=values;\r\n    const {user}=isAuthenticated();\r\n    //wherever we define variables like this, we are using it as a destructor.\r\n\r\n    //higher order function\r\n    const handleChange=name=>event=>{\r\n        setValues({...values,error:false, [name]:event.target.value});  //... is aka rest operator\r\n                                                                    //so it takes the rest of the values\r\n    };\r\n\r\n    \r\n\r\n    const clickSubmit=(event)=>{\r\n        event.preventDefault(); //this is done to prevent Default action on clicking button.\r\n                                //The default action is that the page gets reloaded   \r\n        setValues({...values,error:false,loading:true});\r\n        signin({email,password})\r\n            //since the key and value are same in name:name,email:email,password:password ,so\r\n            //we write this way\r\n            .then(data=>{ \r\n                if(data.error){\r\n                    setValues({...values,password:'',error: data.error, loading:false,});\r\n                }else{\r\n                    aurhenticate(data,()=>{     //checks for info in LocalStorage\r\n                        setValues({...values,\r\n                            redirectToReferrer:true\r\n                        });\r\n                    })\r\n                }\r\n            });    \r\n    };\r\n\r\n    const signInForm=()=>(\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password}/>\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    const showError=()=>(\r\n        <div className=\"alert alert-danger\" style={{display:error?'':'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n    //curly braces were not used in this function. So, () is used.No return () statement.\r\n\r\n\r\n    const showLoading=()=>(\r\n        loading && (\r\n            <div className=\"alert alert-info\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        )\r\n    );\r\n\r\n    const redirectUser=()=>{\r\n        if(redirectToReferrer){\r\n            if(user && user.role===1){\r\n                return <Redirect to='/admin/dashboard' />;\r\n            }else{\r\n                return <Redirect to='/user/dashboard' />;\r\n            }\r\n        }\r\n        if(isAuthenticated()){\r\n            return <Redirect to='/' />;\r\n        }\r\n    };\r\n\r\n    return(     //curly braces were used in this function. So, return() is used.\r\n        <Layout title='Signin' description='Signup to E-commerce App' \r\n        className=\"container col-md-6 offset-md-2\">\r\n            {showError()}\r\n            {showLoading()}\r\n            {signInForm()}\r\n            {redirectUser()}\r\n        </Layout>\r\n    );\r\n};\r\n\r\n\r\nexport default Signin;","import {API} from '../config';\r\nimport queryString from 'query-string';\r\n\r\nexport const getProducts=(sortBy)=>{\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\nexport const getCategories=()=>{\r\n    return fetch(`${API}/categories`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\nexport const getFilteredProducts=(skip,limit,filters={})=>{    \r\n\r\n    const data={\r\n        limit,skip,filters\r\n    };\r\n\r\n    return fetch(`${API}/products/by/search`,{      \r\n        method:\"POST\",      \r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then(response=>{\r\n            return response.json();\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const list=params=>{\r\n    const query=queryString.stringify(params);  //transforms URL,adding/concatenating each param by &\r\n    return fetch(`${API}/products/search?${query}`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\nexport const read=(productId)=>{\r\n    return fetch(`${API}/product/${productId}`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\nexport const listRelated=productId=>{\r\n    return fetch(`${API}/products/related/${productId}`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\nexport const getBraintreeClientToken=(userId,token)=>{\r\n    return fetch(`${API}/braintree/getToken/${userId}`,{\r\n        method: \"GET\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\n\r\nexport const processPayment=(userId,token,paymentData)=>{\r\n    return fetch(`${API}/braintree/payment/${userId}`,{\r\n        method: \"POST\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(paymentData) \r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\nexport const createOrder=(userId,token,createOrderData)=>{\r\n    return fetch(`${API}/order/create/${userId}`,{\r\n        method: \"POST\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({order:createOrderData}) \r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n","import React from 'react';\r\nimport {API} from '../config';\r\n\r\nconst ShowImage=({item,url})=>(\r\n    <div className=\"product-img mb-4\" >\r\n        <img src={`${API}/${url}/photo/${item._id}`} alt={item.name} className=\"mb-3\"\r\n            style={{ height:\"auto\",\r\n                borderRadius:\"10px\",\r\n                maxWidth:\"100%\",\r\n                maxHeight:\"100%\",\r\n                width: \"auto\\9\"\r\n            }} />\r\n    </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","import React, { useState } from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport ShowImage from './ShowImage';\r\nimport {addItem,updateItem,removeItem} from './cartHelpers';\r\n\r\n\r\nconst Card=({showAddToCart=true,showRemoveProductButton=false,cartUpdate=false,\r\n        run = undefined,setRun = f => f,product,\r\n        myStyle={backgroundImage: \"linear-gradient(rgba(0,0,0,0.1),rgba(0,0,0,0.1))\"}})=>{\r\n\r\n    const [redirect,setRedirect]=useState(false);\r\n    const [count,setCount]=useState(product.count);\r\n\r\n    const addToCart=()=>{ \r\n        addItem(product,()=>{\r\n            setRedirect(true);  \r\n        });\r\n    };\r\n \r\n\r\n    const showStock=quantity=>{\r\n        return quantity>0 ? (\r\n            quantity<5 ? (\r\n                <span className=\"badge badge-warning badge-pill\">Only {quantity} pieces left.Hurry..! Order Now.</span>\r\n            ):(\r\n                <span className=\"badge badge-primary badge-pill\">In Stock</span>\r\n            )\r\n        ):(\r\n            <span className=\"badge badge-danger badge-pill\">Out of Stock</span>\r\n        )\r\n    };\r\n    \r\n\r\n    const handleChange=productId=>event=>{\r\n        setRun(!run); \r\n        let val=event.target.value;\r\n        let mx=product.quantity;\r\n        if(val<1)\r\n            setCount(1);\r\n        else if(val>mx)\r\n            setCount(product.mx);\r\n        else    \r\n            setCount(val);        \r\n        //setCount(event.target.value<1 ? 1 : event.target.value);\r\n        //setCount(event.target.value>product.quantity ? product.quantity : event.target.value);\r\n        if(event.target.value>=1 && val<=mx){\r\n            updateItem(productId,event.target.value);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const handleKeyPress=()=>event=>{\r\n        event.preventDefault();\r\n    }\r\n\r\n    const showCartUpdateOptions=cartUpdate=>{\r\n        return cartUpdate && (\r\n            <div className=\"input-group mb-3\" >\r\n                <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\" style={{background:\"#5c8a8a\",color:\"white\"}}>\r\n                        Adjust Quantity \r\n                    </span>\r\n                </div>\r\n                <input type=\"number\" className=\"form-control\" min=\"1\" max={product.quantity} \r\n                        onKeyPress={handleKeyPress()}\r\n                         value={count} onChange={handleChange(product._id)} />\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    const showAddToCartButton=(quantity)=>{\r\n        return quantity>0 ?(\r\n            <button onClick={addToCart} className=\"btn btn-outline-warning ml-2 \">\r\n                Add to Cart\r\n            </button>\r\n        ):(\r\n            <button className=\"btn btn-outline-warning ml-2\" disabled>\r\n                Add to Cart\r\n            </button>\r\n        )\r\n    };\r\n    \r\n    const remove=()=>{\r\n        removeItem(product._id);\r\n        setRun(!run); \r\n    }\r\n\r\n    const showRemoveButton=(showRemoveProductButton)=>{\r\n        return showRemoveProductButton && (\r\n            <button onClick={remove} className=\"btn btn-outline-danger ml-2 \">\r\n                Remove Product\r\n            </button>\r\n        );\r\n    };\r\n\r\n    const pageTop=()=>{\r\n        return window.scrollTo(0, 0);\r\n    }\r\n    \r\n\r\n    const shouldRedirect=redirect=>{\r\n        if(redirect){\r\n            return <Redirect to=\"/cart\" />\r\n        }\r\n    }\r\n\r\n\r\n    return(\r\n        <div className=\"col-4 mb-3 \" >\r\n            \r\n            <div className=\"card d-flex\" style={{position:\"relative\"}} >\r\n                <div className=\"card-header\" style={{background:\"#002b80\",color:\"white\"}}>\r\n                    <b>{product.name}</b>\r\n                </div>\r\n                <div className=\"card-body \" style={myStyle}>\r\n                    {shouldRedirect(redirect)}\r\n                <center>\r\n                    <div className=\"d-flex\" style={{width:\"100%\",height:\"100%\",maxWidth:\"200px\",maxHeight:\"200px\",minHeight:\"200px\",minWidth:\"200px\",position:\"relative\"}}>\r\n                        <ShowImage item={product} url=\"product\" /> \r\n                    </div>\r\n                </center>    \r\n                    <p >{product.description.substring(0,25)+\".......\"}</p>\r\n                    <p>Rs {product.price}</p>\r\n                    <p>{showStock(product.quantity)}</p> \r\n                    <Link to={`/product/${product._id}`}>\r\n                        <button className=\"btn btn-outline-primary mt-2 mb-2\" \r\n                                    onClick={pageTop}>\r\n                            View Product\r\n                        </button>\r\n                    </Link> \r\n                    {showAddToCart && showAddToCartButton(product.quantity)} \r\n                    {showRemoveButton(showRemoveProductButton)}\r\n                    {showCartUpdateOptions(cartUpdate)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;","import React,{useState,useEffect} from 'react';\r\nimport {getCategories,list} from './apiCore';\r\nimport Card from './Card';\r\n\r\nconst Search=()=>{\r\n    const [data,setData]=useState({\r\n        categories:[],      //will help in displaying all the categories\r\n        category:'',        //will tell us what category is selected\r\n        search:'',          //will keep whatever text is written in search field\r\n        results:'',         //will keep output of SEARCH\r\n        searched:false\r\n    });\r\n\r\n    const {categories,category,search,results,searched}=data;\r\n\r\n    const loadCategories=()=>{\r\n        getCategories()\r\n        .then(data=>{\r\n            if(data.error){\r\n                console.log(data.error);\r\n            }else{\r\n                setData({...data,categories: data});\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        loadCategories();\r\n    },[]);\r\n\r\n    const searchData=()=>{\r\n        if(search){\r\n            list({search:search || undefined, category:category})\r\n            .then(response=>{\r\n                if(response.error){\r\n                    console.log(response.error);\r\n                }else{\r\n                    setData({...data,results:response,searched:true});\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const searchSubmit=(event)=>{\r\n        event.preventDefault();\r\n        searchData();\r\n    };\r\n\r\n    const handleChange=name=>event=>{\r\n        setData({...data,[name]:event.target.value,searched:false});\r\n    };\r\n\r\n\r\n    const searchMessage=(searched,results)=>{\r\n        if(searched){\r\n            if(results.length>0)\r\n                return `Found ${results.length} products`;\r\n            if(results.length<1)\r\n                return `No products found`;     \r\n        }\r\n    }\r\n\r\n    const searchedProducts=(results=[])=>{\r\n        return (\r\n            <div>\r\n                <h2 className=\"mt-4 mb-4\">\r\n                    {searchMessage(searched,results)}\r\n                </h2>\r\n                <div className=\"row\" > \r\n                    {results && results.map((product,i)=>(\r\n                        <Card key={i} product={product} />\r\n                    ))}\r\n            </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const searchForm=()=>(\r\n        //span is used in the form because we want to to show all the 3 components (category selector,\r\n        //,search input field,search button) in a single line \r\n        <form onSubmit={searchSubmit}>\r\n            <span className=\"input-group-text\"> \r\n                <div className=\"input-group-prepend\">\r\n                    <select className=\"btn mr-2\" onChange={handleChange(\"category\")}>\r\n                        <option value=\"All\">All</option>\r\n                            {categories.map((c,i)=>(\r\n                                <option key={i} value={c._id} >{c.name}</option>\r\n                            ))}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"input-group input-group-lg\">\r\n                    <input type=\"search\" className=\"form-control\" onChange={handleChange(\"search\")} \r\n                        placeholder=\"Search for products\" />\r\n                </div>\r\n\r\n                <div className=\"input-group-append\" style={{border:'none'}}>\r\n                    <button className=\"input-group-text ml-2\">Search </button>\r\n                </div>\r\n\r\n            </span>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"row\" >\r\n            <div className=\"container mb-3\">\r\n                {searchForm()}\r\n            </div>\r\n            <div className=\"container-fluid mb-3\">\r\n                {searchedProducts(results)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;","import React,{useState,useEffect} from 'react';\r\nimport Layout from './Layout';\r\nimport {getProducts} from './apiCore';\r\nimport Card from './Card';\r\nimport Search from './Search';\r\n\r\n//since <Route component> is used to render Home component, so all route props \r\n//(match, location and history) are available to to Home component\r\nconst Home=()=>  {\r\n\r\n    const [productsBySell,setproductsBySell]=useState([]);\r\n    const [productsByArrival,setproductsByArrival]=useState([]);\r\n    const [error,setError]=useState(false);\r\n\r\n    const loadProductsBySell=()=>{\r\n        getProducts('sold')\r\n        .then(data=>{   console.log(\"data-\");console.log(data);\r\n            if(data.error){\r\n                setError(data.error);\r\n            }\r\n            else{ \r\n                //setproductsBySell(productsBySell=>productsBySell.concat(data));\r\n                setproductsBySell(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadProductsByArrival=()=>{\r\n        getProducts('createdAt')\r\n        .then(data=>{\r\n            if(data.error){\r\n                setError(data.error);\r\n            }\r\n            else{   \r\n                //setproductsByArrival(productsByArrival=>productsByArrival.concat(data));\r\n                setproductsByArrival(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(()=>{\r\n        loadProductsByArrival();\r\n        loadProductsBySell();\r\n    },[]);\r\n\r\n    return(\r\n        <Layout title='Home Page' description='E-commerce App' className=\"container-fluid\">\r\n            <Search />\r\n            <h2 className=\"mb-4\">New Arrivals</h2>\r\n            <div className=\"row\">\r\n                {productsByArrival.map((product,i)=>(\r\n                    <Card key={i} product={product} />\r\n                ))}\r\n            </div>\r\n\r\n            <br/><br/>\r\n            <h2 className=\"mb-4 \">Best Sellers</h2>\r\n            <div className='row'>\r\n                {productsBySell.map((product,i)=>(\r\n                    <Card key={i} product={product} />\r\n                ))}\r\n            </div>\r\n\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Home;","import React from 'react';  \r\nimport {Route,Redirect} from 'react-router-dom';\r\nimport {isAuthenticated} from './index';\r\n\r\nconst PrivateRoute=({component : Component, ...rest})=>(\r\n    <Route {...rest} render={props=> isAuthenticated()? (\r\n            <Component {...props} />\r\n            ) : (\r\n            <Redirect to={{pathname:'/signin' , state:{from:props.location}}}  />\r\n        ) } \r\n    />  //pathname and state are properties defined in \"props\"\r\n);\r\n\r\n\r\nexport default PrivateRoute;","import React from 'react';  \r\nimport {Route,Redirect} from 'react-router-dom';\r\nimport {isAuthenticated} from './index';\r\n\r\nconst AdminRoute=({component : Component, ...rest})=>(\r\n    <Route {...rest} render={props=> (isAuthenticated() && isAuthenticated().user.role===1 ) ? (\r\n            <Component {...props} />\r\n            ) : (\r\n            <Redirect to={{pathname:'/signin' , state:{from:props.location}}}  />\r\n        ) } \r\n    />  //pathname and state are properties defined in \"props\"\r\n);\r\n\r\n\r\nexport default AdminRoute;","import React,{useState,useEffect} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport { Link} from 'react-router-dom';\r\nimport {getPurchaseHistory} from './apiUser';\r\nimport moment from 'moment';\r\n\r\nconst Dashboard=()=>{\r\n\r\n    const [history,setHistory]=useState([]);\r\n    const {user:{_id,name,email,role}}= isAuthenticated();   //_id,\r\n    const token=isAuthenticated().token;\r\n\r\n    const userLinks=()=>{\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links </h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/cart\">My Cart</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to={`/profile/${_id}`}>Update Profile</Link>\r\n                    </li>\r\n                    {role>0 ? (<li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/admin/dashboard\">Admin Dashboard </Link>\r\n                    </li>):null }\r\n                </ul>\r\n            </div>\r\n        )\r\n    };\r\n\r\n    const init=(userId,token)=>{\r\n        getPurchaseHistory(userId,token)\r\n            .then(data=>{\r\n                if(data.error){\r\n                    console.lof(data.error);\r\n                }else{\r\n                    setHistory(data);\r\n                }\r\n            })\r\n    };\r\n\r\n    useEffect(()=>{\r\n        init(_id,token);\r\n    },[]);\r\n\r\n    const userInfo=()=>{\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">{role?\"Admin\" : \"Registered User\"}</li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    };\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\nconst purchaseHistory = history => {\r\n    return (\r\n        <div className=\"card mb-5\">\r\n            <h3 className=\"card-header\">Purchase history</h3>\r\n            <ul className=\"list-group\">\r\n                <li className=\"list-group-item\">\r\n                    {history.map((h, i) => {\r\n                        return (\r\n                            <div>\r\n                                <hr />\r\n                                {h.products.map((p, i) => {\r\n                                    return (\r\n                                        <div key={i}>\r\n                                            <h6>Product name: {p.name}</h6>\r\n                                            <h6>Product price: ${p.price}</h6>\r\n                                            <h6>\r\n                                                Purchase date:{\" \"}\r\n                                                {moment(p.createdAt).format('MMMM Do YYYY, h:mm:ss a')}\r\n                                            </h6>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n    return (\r\n        <Layout title=\"Dashboard\" description={`Welcome ${name}!`} className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    {userLinks()}\r\n                </div>\r\n                <div className=\"col-9\">\r\n                    {userInfo()} \r\n                    {purchaseHistory(history)}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n};\r\n\r\n\r\nexport default Dashboard;","import {API} from '../config';\r\n\r\nexport const read=(userId,token)=>{\r\n    return fetch(`${API}/user/${userId}`,{\r\n        method: \"GET\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const update=(userId,token,user)=>{\r\n    return fetch(`${API}/user/${userId}`,{\r\n        method: \"PUT\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user) \r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\n//update info in the localStorage then and there so that user does not need to signin again\r\nexport const updateUser=(user,next)=>{\r\n    if(typeof window!== 'undefined'){\r\n        if(localStorage.getItem('jwt')){\r\n            let auth=JSON.parse(localStorage.getItem('jwt'));\r\n            auth.user=user;\r\n            localStorage.setItem('jwt',JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const getPurchaseHistory=(userId,token)=>{\r\n    return fetch(`${API}/orders/by/user/${userId}`,{\r\n        method: \"GET\",\r\n        headers:{\r\n            Accept:'application/json',         \r\n            \"Content-Type\" : \"application/json\", \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React,{useState,useEffect} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport { Redirect} from 'react-router-dom';\r\nimport {read,update,updateUser} from './apiUser';\r\n\r\nconst Profile=({match})=>{    //helps in accessing contents of URL\r\n    const [values,setValues]=useState({\r\n        name:\"\",\r\n        email:\"\",\r\n        password:\"\",\r\n        newPassword:\"\",\r\n        confirmPassword:\"\",\r\n        error:\"\",\r\n        success:false\r\n    }); \r\n\r\n    const {name,email,password,newPassword,success,error,confirmPassword}=values;\r\n    const {token}=isAuthenticated();\r\n\r\n    const init=(userId)=>{  \r\n        read(userId,token)\r\n            .then(data=>{\r\n                if(data.error){\r\n                    setValues({...values,error:true});\r\n                }else{\r\n                    setValues({...values,name:data.name,email:data.email});\r\n                }\r\n            });\r\n    }; \r\n\r\n    useEffect(()=>{\r\n        init(match.params.userId);\r\n    },[]);\r\n\r\n\r\n    const handleChange=name=>e=>{\r\n        setValues({...values,error:false,[name]:e.target.value});   \r\n    }\r\n\r\n    const clickSubmit=e=>{\r\n        e.preventDefault();\r\n        update(match.params.userId,token,{name,email,password,newPassword,confirmPassword})\r\n            .then(data=>{\r\n                if(data.error){\r\n                    setValues({...values,error:data.error,confirmPassword:\"\"})\r\n                }else{\r\n                    //updating in localStorage\r\n                    updateUser(data,()=>{\r\n                        setValues({...values,name:data.name,email:data.email,success:true})\r\n                    });\r\n                }\r\n            });\r\n        };  \r\n    \r\n\r\n    const redirectUser=(success)=>{\r\n        if(success){\r\n            return <Redirect to=\"/user/dashboard\" />\r\n        }\r\n    }\r\n\r\n    const showError=()=>(\r\n        <div className=\"alert alert-danger\" style={{display:error?'':'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const profileUpdate=(name,email)=>(\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input type=\"email\" onChange={handleChange('email')} className=\"form-control\" value={email} disabled />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input type=\"password\" onChange={handleChange('password')} className=\"form-control\" value={password} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">New Password</label>\r\n                <input type=\"password\" onChange={handleChange('newPassword')} className=\"form-control\" value={newPassword}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Confirm New Password</label>\r\n                <input type=\"password\" onChange={handleChange('confirmPassword')} className=\"form-control\" value={confirmPassword}/>\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\r\n        </form>\r\n    )\r\n\r\n    return(\r\n        <Layout title='Profile' description='Update your profile' className=\"container-fluid\">\r\n            <div className=\"mr-5 ml-5 pr-5 pl-5\">\r\n                <h2 className=\"mb-4\">Profile Update</h2>\r\n                {showError()}\r\n                {profileUpdate(name,email)}\r\n                {redirectUser(success)}\r\n            </div>\r\n        </Layout>\r\n    );\r\n\r\n\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport { Link} from 'react-router-dom';\r\n\r\nconst AdminDashboard=()=>{\r\n\r\n    const {user:{name,email,role}}= isAuthenticated()   //_id,\r\n\r\n    const adminLinks=()=>{\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">Admin Links </h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/category\">Create Category</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/product\">Create Product</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/admin/orders\">Manage Orders</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/admin/products\">Manage Products</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/user/dashboard\">User Dashboard </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    };\r\n\r\n    const adminInfo=()=>{\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">{role?\"Admin\" : \"Registered User\"}</li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <Layout title=\"Dashboard\" description={`Welcome ${name}!`} className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    {adminLinks()}\r\n                </div>\r\n                <div className=\"col-9\">\r\n                    {adminInfo()} \r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n};\r\n\r\n\r\nexport default AdminDashboard;","import {API} from '../config';\r\n\r\nexport const createCategory=(userId,token,category)=>{    \r\n    return fetch(`${API}/category/create/${userId}`,{             //fetch(url,object)\r\n        method:\"POST\",      \r\n        headers:{\r\n            Accept:'application/json',          //tells the server that which content-type is understandable by the client \r\n            \"Content-Type\" : \"application/json\",    //this tells backend that we are sending a json object\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n        .then(response=>{\r\n            return response.json();\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const createProduct=(userId,token,product)=>{    \r\n    return fetch(`${API}/product/create/${userId}`,{             //fetch(url,object)\r\n        method:\"POST\",      \r\n        headers:{\r\n            Accept:'application/json',          //tells the server that which content-type is understandable by the client \r\n            //\"Content-Type\" : \"application/json\", //we don't need this here as we are sending form data here and not json\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product   //product will be form-data\r\n    })\r\n        .then(response=>{\r\n            return response.json();\r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\n\r\nexport const getCategories=()=>{\r\n    return fetch(`${API}/categories`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\n\r\nexport const listOrders=(userId,token)=>{\r\n    return fetch(`${API}/order/list/${userId}`,{\r\n        method: \"GET\",\r\n        headers:{\r\n            Accept:'application/json',          //tells the server that which content-type is understandable by the client         \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\n\r\n\r\nexport const getStatusValues=(userId,token)=>{\r\n    return fetch(`${API}/order/status-values/${userId}`,{\r\n        method: \"GET\",\r\n        headers:{\r\n            Accept:'application/json',       \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\n\r\n\r\nexport const updateOrderStatus=(userId,token,orderId,status)=>{\r\n    return fetch(`${API}/order/:${orderId}/status/${userId}`,{\r\n        method: \"PUT\",\r\n        headers:{\r\n            Accept:'application/json',  \r\n            \"Content-Type\": 'application/json' ,    \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({orderId,status})\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\n/* working on Manage Products component */\r\n\r\n\r\nexport const getProducts=()=>{\r\n    return fetch(`${API}/products`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\nexport const deleteProduct=(productId,userId,token)=>{\r\n    return fetch(`${API}/product/${productId}/${userId}`,{\r\n        method: \"DELETE\",\r\n        headers:{\r\n            Accept:'application/json',  \r\n            \"Content-Type\": 'application/json' ,    \r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\nexport const getProduct=productId=>{\r\n    return fetch(`${API}/product/${productId}`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\n\r\nexport const updateProduct=(productId,userId,token,product)=>{\r\n    return fetch(`${API}/product/${productId}/${userId}`,{\r\n        method: \"PUT\",\r\n        headers:{\r\n            Accept:'application/json',    \r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product               //this product is sent as form-data.So , sontent-type is not  defined\r\n    })\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};","import React,{useState} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport { Link} from 'react-router-dom';\r\nimport {createCategory} from './apiAdmin';\r\n\r\nconst AddCategory=()=>{\r\n    const [name,setName]=useState('');\r\n    const [error,setError]=useState(false);\r\n    const [success,setSuccess]=useState(false);\r\n\r\n    //destructre user and info from localstorage\r\n    const {user,token} = isAuthenticated();\r\n\r\n    const handleChange=(e)=>{\r\n        setError('');\r\n        setSuccess('');\r\n        setName(e.target.value);\r\n    }\r\n\r\n    const clickSubmit=(e)=>{\r\n        e.preventDefault();\r\n        setError('');\r\n        setSuccess(false);\r\n        //make request to api to create category\r\n        createCategory(user._id,token,{name})\r\n        .then(data=>{\r\n            if(data.error){\r\n                setSuccess('');\r\n                setError(true);\r\n            }else{\r\n                setError('');\r\n                setSuccess(true);\r\n            }\r\n        })\r\n    };\r\n\r\n    const newCategoryForm=()=>(\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" className=\"form-control\" \r\n                        onChange={handleChange} value={name} \r\n                        autoFocus required />                     \r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Create Category</button>   \r\n        </form>\r\n    );\r\n\r\n    const showSuccess=()=>{\r\n        if(success){\r\n            return <h3 className=\"text-success\">Category \"{name}\" is created.</h3>\r\n        }\r\n    }\r\n\r\n\r\n    const showError=()=>{\r\n        if(error){\r\n            return <h3 className=\"text-danger\">Category \"{name}\" already exists!</h3>\r\n        }\r\n    }\r\n\r\n    const goBack=()=>(\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n                &lt;- Go Back to Dashboard\r\n            </Link>\r\n        </div>\r\n    );\r\n\r\n\r\n    return (\r\n        <Layout title=\"Add a new Category\" description={`Welcome ${user.name}!`} >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">   \r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newCategoryForm()} \r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n\r\n};\r\n\r\n\r\nexport default AddCategory;","import React,{useState,useEffect} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport {createProduct,getCategories} from './apiAdmin';\r\n\r\nconst AddProduct=()=>{\r\n\r\n    const {user,token} = isAuthenticated();\r\n    const [values,setValues]=useState({\r\n        name:'',\r\n        description:'',\r\n        price:'',\r\n        categories:[],\r\n        category:'',\r\n        shipping:'',\r\n        quantity:'',\r\n        photo:'',\r\n        loading:false,\r\n        error:'',\r\n        createdProduct:'',\r\n        redirectToProfile: false,\r\n        //formData: ''    //we will send this to the backend\r\n        formData:new FormData()\r\n    });\r\n\r\n    const {name,description,price,category,shipping,categories,quantity,loading,error,createdProduct,\r\n        redirectToProfile,formData} = values;   \r\n        \r\n    //load categories and set form data\r\n    const init=()=>{\r\n        getCategories()\r\n        .then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error: data.error})\r\n            }else{ \r\n                setValues({...values,categories:data,formData:new FormData()});   \r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    useEffect(()=>{\r\n        init();\r\n    },[]);\r\n\r\n    const handleChange=name=>event=>{\r\n        const value= (name==='photo'? event.target.files[0] : event.target.value );\r\n            //event.target.files[0]-> only first image is considered.In multiple uploads, we are only\r\n            //considering the first image\r\n        formData.set(name,value);\r\n        setValues({...values,[name]:value});    \r\n    };    \r\n\r\n\r\n    const clickSubmit=(event)=>{\r\n        event.preventDefault();\r\n        setValues({...values,error:'',loading:true});\r\n        createProduct(user._id,token,formData)\r\n        .then(data=>{\r\n            \r\n            var result = Object.keys(data).map(function (key) { \r\n                return [Number(key), data[key]]; \r\n            });  \r\n\r\n            if(data.error){\r\n                setValues({...values,error:data.error});\r\n            }else{\r\n                setValues({...values,\r\n                    name:'',\r\n                    description:'',\r\n                    price:'',\r\n                    photo:'',\r\n                    loading:false,\r\n                    quantity:'',\r\n                    category:'',\r\n                    createdProduct: result[0][1].name\r\n                });\r\n                document.getElementById(\"all_cat\").selectedIndex = \"0\";\r\n                document.getElementById(\"ship_status\").selectedIndex = \"0\";\r\n            }\r\n        });\r\n    };\r\n\r\n    \r\n\r\n    const newProductForm=()=>(\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Attach Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\"> \r\n                    <input onChange={handleChange('photo')}  type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />                \r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" \r\n                    value={description}  style={{whiteSpace: 'pre'}} />                \r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />                \r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category </label>\r\n                <select onChange={handleChange('category')} className=\"form-control\" id=\"all_cat\">\r\n                <option >Please Select</option>\r\n                    {categories && categories.map((c,idx)=>(\r\n                        <option key={idx} value={c._id}>{c.name}</option>))}\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\" id=\"ship_status\">\r\n                    <option>Please Select</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />                \r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Create Product</button>\r\n        </form>\r\n    )    \r\n\r\n    const showError=()=>(\r\n        <div className=\"alert alert-danger\" style={{display:error?'' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess=()=>(\r\n        <div className=\"alert alert-info\" style={{display:createdProduct?'' : 'none'}}>\r\n            <h2>Product \"{ `${createdProduct} ` }\" is created!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading=()=>(\r\n        loading && <div className=\"alert alert-success\">\r\n            <h2>Loading...</h2>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <Layout title=\"Add a new Product\" description={`Welcome ${user.name}!`} >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\"> \r\n                    {showLoading()} \r\n                    {showSuccess()} \r\n                    {showError()}\r\n                    {newProductForm()}                    \r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default AddProduct;","import React,{useState,useEffect} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport {listOrders,getStatusValues,updateOrderStatus} from './apiAdmin';\r\nimport moment from 'moment';\r\nimport {Accordion,Card} from 'react-bootstrap';\r\n\r\n\r\n\r\nconst Orders=()=>{\r\n    const [orders,setOrders]=useState([]);\r\n    const [statusValues,setStatusValues]=useState([]);\r\n\r\n    const {user,token}=isAuthenticated();\r\n\r\n    const loadOrders=()=>{\r\n        listOrders(user._id,token)\r\n            .then(data=>{\r\n                if(data.error){\r\n                    console.log(data.error);\r\n                }else{\r\n                    setOrders(data);\r\n                }\r\n            });\r\n    };\r\n\r\n\r\n    const loadStatusValues=()=>{\r\n        getStatusValues(user._id,token)\r\n            .then(data=>{ \r\n                if(data.error){\r\n                    console.log(data.error);\r\n                }else{\r\n                    setStatusValues(data);  \r\n                }\r\n            })\r\n    };\r\n\r\n    useEffect(()=>{\r\n        loadOrders();\r\n        loadStatusValues();\r\n    },[]);\r\n\r\n\r\n    const handleChangeStatus=(e,orderId)=>{\r\n        updateOrderStatus(user._id,token,orderId,e.target.value)\r\n            .then(data=>{ \r\n                if(data.error){\r\n                    console.log(\"Failure in status updation\");\r\n                }else{\r\n                    loadOrders();\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    const showStatus=o=>(\r\n        <div className=\"form-group\">\r\n            <h3 className=\"mark mb-4\">Status :  {o.status}</h3>\r\n            <select className=\"form-control\" onChange={e=>handleChangeStatus(e,o._id)}>\r\n                <option>Update Status</option>\r\n                {statusValues.map((status,idx)=>(\r\n                    <option key={idx} value={status}>{status}</option>\r\n                ))}\r\n            </select> \r\n        </div>\r\n    )\r\n\r\n\r\n    const showOrdersLength=()=>(\r\n        orders.length>0? (\r\n            <h1 className=\"text-danger \">\r\n                Total Orders : {orders.length} \r\n            </h1>\r\n        ):(\r\n            <h1 className=\"text-danger text-muted\">\r\n                No Orders to display...\r\n            </h1>\r\n        )\r\n    );\r\n\r\n\r\n    const showInput=(key,value)=>(\r\n        <div className=\"input-group mb-2 mr-sm-2\">\r\n            <div className=\"input-group-prepend\">\r\n                <div className=\"input-group-text\"><b>{key}</b> </div>\r\n            </div>\r\n            <input type=\"text\" value={value} key={`key+value`} className=\"form-control\" readOnly />\r\n        </div>\r\n    )\r\n\r\n    \r\n\r\n\r\n\r\n    const accordion=()=>{\r\n        return (\r\n                <Accordion>\r\n                    {orders.map((order,i)=>(\r\n                        <Card key={i}>\r\n                            <Accordion.Toggle as={Card.Header} eventKey={i}>\r\n                                <center><b>Order Id :-</b>  {order._id}</center>\r\n                            </Accordion.Toggle>\r\n                            <Accordion.Collapse eventKey={i}>\r\n                                <Card.Body> \r\n                                    <ul className=\"list-group mb-2\">\r\n                                        <li className=\"list-group-item\" key={`${order._id}+${i}`}><b>Status :- </b>{showStatus(order)}</li>\r\n                                        <li className=\"list-group-item\" key={`${order.transaction_Id}+${i}`}><b>TransactionId :- </b>{order.transaction_Id}</li>\r\n                                        <li className=\"list-group-item\" key={`${order.amount}+${i}`}><b>Amount :- </b>Rs {order.amount}</li>\r\n                                        <li className=\"list-group-item\" key={`${order.user.name}+${i}`}><b>Ordered by :- </b>{order.user.name}</li>\r\n                                        <li className=\"list-group-item\" key={`${order.createdAt}+${i}`}><b>Ordered on :- </b>{moment(order.createdAt).fromNow()}</li>\r\n                                        <li className=\"list-group-item\" key={`${order.address}+${i}`}><b>Delivery address :- </b>{order.address}</li>\r\n                                    </ul>\r\n                                    \r\n                                    <h3 className=\"mt-4 mb-4 font-italic\">\r\n                                        Total products in the order : {order.products.length}\r\n                                    </h3>\r\n                                    <ul>\r\n                                        {order.products.map((p,idx)=>(\r\n                                            <div className=\"mb-4\" key={idx} style={{padding:'20px',border:'1px solid indigo'}}>\r\n                                                {showInput('Product name',p.name)}\r\n                                                {showInput('Product price',p.price)}\r\n                                                {showInput('Product total',p.count)}\r\n                                                {showInput('Product id',p._id)}\r\n                                            </div>\r\n                                        ))}\r\n                                    </ul>    \r\n                                </Card.Body>\r\n                            </Accordion.Collapse> \r\n                        </Card>           \r\n                    ))}\r\n                </Accordion>    \r\n            );\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <Layout title=\"Orders\"  >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showOrdersLength()}  \r\n                    {accordion()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n\r\n}\r\n\r\nexport default Orders;          ","import React,{useState} from 'react';\r\n\r\nconst Checkbox=({categories,handleFilters})=>{\r\n    const [checked,setChecked]=useState([]);\r\n\r\n    const handleToggle = c =>()=>{\r\n        const currentCategoryId = checked.indexOf(c);   //indexof() will return -1 if not found\r\n        const newCheckedCategoryId=[...checked];\r\n        //if this category was not already in checked category\r\n        //add it\r\n        if(currentCategoryId===-1){\r\n            newCheckedCategoryId.push(c);\r\n        }else{  //remove it\r\n            newCheckedCategoryId.splice(currentCategoryId,1);\r\n        }\r\n        setChecked(newCheckedCategoryId);\r\n        handleFilters(newCheckedCategoryId);    //basically, on toggle, this list is sent to parent component for evaluation\r\n    };\r\n\r\n    return categories.map((c,i)=>(\r\n        <li key={i} className=\"list-unstyled\">\r\n            <input onChange={handleToggle(c._id)} //since handleToggle returns a func., so calling handleToggle() is valid as event handler\r\n                value={checked.indexOf(c._id===-1)} \r\n                //value={c._id}\r\n                type=\"checkbox\" className=\"form-check-input\" \r\n            />\r\n            <label className=\"form-check-label\">{c.name}</label>\r\n        </li>\r\n    ));\r\n};\r\n\r\n\r\nexport default Checkbox;","export const prices=[\r\n    {\r\n        _id: 0,\r\n        name: \"Any\",\r\n        array:[]\r\n    },\r\n    {\r\n        _id: 1,\r\n        name: \"Rs0 to Rs99\",\r\n        array:[0,99]\r\n    },\r\n    {\r\n        _id: 2,\r\n        name: \"Rs100 to Rs999\",\r\n        array:[100,999]\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: \"Rs1,000 to Rs9,999\",\r\n        array:[1000,9999]\r\n    },\r\n    {\r\n        _id: 4,\r\n        name: \"Rs10,000 to Rs49,999\",\r\n        array:[10000,49999]\r\n    },\r\n    {\r\n        _id: 5,\r\n        name: \"Rs50,000 to Rs99,999\",\r\n        array:[50000,99999]\r\n    },\r\n    {\r\n        _id: 6,\r\n        name: \"Rs1,00,000 and Above\",\r\n        array:[100000,100000000]\r\n    },\r\n]","import React,{useState} from 'react';\r\n\r\nconst RadioBox=({prices,handleFilters})=>{\r\n    const [value,setValue]=useState({});\r\n\r\n    const handleChange=(event)=>{\r\n        handleFilters(event.target.value); //basically, on change, this is sent to parent component for evaluation\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    return prices.map((p,i)=>(\r\n        <div key={i} >\r\n            <input onChange={handleChange} id={i}\r\n                value={`${p._id}`} \r\n                //value={p._id}\r\n                name={p}            //this ensures that only one radioButton is selected\r\n                type=\"radio\" className=\"mr-2 ml-4\" \r\n            />         \r\n            <label className=\"form-check-label\">{p.name}</label> \r\n        </div>\r\n    ));\r\n};\r\n\r\nexport default RadioBox;","import React,{useState,useEffect} from 'react';\r\nimport Layout from './Layout';\r\nimport Card from './Card';\r\nimport {getCategories,getFilteredProducts} from './apiCore';\r\nimport Checkbox from './Checkbox';\r\nimport {prices} from './fixedPrices';\r\nimport RadioBox from './RadioBox';\r\n\r\nconst Shop=()=>{\r\n\r\n    const [myFilters,setMyFilters]=useState({\r\n        filters:{category:[],price:[]}\r\n    })\r\n    const [categories,setCategories]=useState([]);\r\n    const [error,setError]=useState(false);\r\n    const [limit,setLimit]=useState(6);\r\n    const [skip,setSkip]=useState(0);\r\n    const [size,setSize]=useState(0);\r\n    const [filteredResults,setFilteredResults]=useState(0);\r\n\r\n    const init=()=>{\r\n        getCategories()\r\n        .then(data=>{\r\n            if(data.error){\r\n                setError(data.error)\r\n            }else{       \r\n                setCategories(data);               \r\n            }\r\n        })\r\n    };\r\n\r\n    const loadFilteredResults=(newFilters)=>{\r\n        getFilteredProducts(skip,limit,newFilters)\r\n        .then(data=>{\r\n            if(data.error){\r\n                setError(data.error)\r\n            }else{       \r\n                setFilteredResults(data.data);      \r\n                setSize(data.size);\r\n                setSkip(0);         \r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    const loadMore=()=>{\r\n        let toSkip=skip+limit;\r\n        getFilteredProducts(toSkip,limit,myFilters.filters)\r\n        .then(data=>{\r\n            if(data.error){\r\n                setError(data.error)\r\n            }else{       \r\n                setFilteredResults([...filteredResults,...data.data]);      \r\n                    //we append the new data we receive to the data we already had\r\n                setSize(data.size);\r\n                setSkip(toSkip);         \r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    const loadMoreButton=()=>{\r\n        return (\r\n            size>0 && size>=limit && (\r\n                <button onClick={loadMore} className=\"btn btn-warning mb-5\">\r\n                    Load more\r\n                </button>\r\n            )\r\n        )\r\n    }\r\n\r\n    useEffect(()=>{\r\n        init();\r\n        loadFilteredResults(skip,limit,myFilters.filters);\r\n    },[]);\r\n\r\n\r\n    const handleFilters=(filters,filterBy)=>{\r\n        const newFilters={...myFilters};    \r\n        newFilters.filters[filterBy]=filters;\r\n\r\n        if(filterBy==='price'){\r\n            let priceValues=handlePrice(filters);\r\n            newFilters.filters[filterBy]=priceValues;\r\n        }\r\n\r\n        loadFilteredResults(myFilters.filters);\r\n\r\n        setMyFilters(newFilters);\r\n    }\r\n\r\n    const handlePrice=value=>{\r\n        const data=prices;\r\n        let array=[]\r\n        for(let key in data){\r\n            if(data[key]._id===parseInt(value)){\r\n                array=data[key].array;\r\n            }\r\n        }\r\n        return array;\r\n    }\r\n\r\n    const showEmpty=()=>{\r\n        return (\r\n            <h2 className=\"text-muted\">\r\n                <div style={{display:(!size)?'':'none'}}>\r\n                        No products found in this filter. Try out some other filter options .\r\n                </div>\r\n            </h2>\r\n        )\r\n    }\r\n\r\n    \r\n    \r\n\r\n    return (\r\n        <Layout title='Welcome!' \r\n            description='Be a Shopaholic! Now choose from a wide variety of products.' \r\n            className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-4\">\r\n                    {categories.length>0?(<div>\r\n                    <h4>Filter by categories</h4>\r\n                    <ul>\r\n                        <Checkbox categories={categories} \r\n                            handleFilters={filters=>handleFilters(filters,'category')} />\r\n                    </ul></div>):null}\r\n                    <h4>Filter by price</h4>\r\n                    <div>\r\n                        <RadioBox prices={prices} \r\n                            handleFilters={filters=>handleFilters(filters,'price')} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-8\">\r\n                    <h2 className=\"mb-4-\">Products</h2>\r\n                    <div className=\"row\">  \r\n                        {filteredResults.length>0 ? filteredResults.map((product,i)=>\r\n                            <Card key={i} product={product} />                             \r\n                        ) : \" \"\r\n                        }\r\n                    </div>\r\n                    <br></br>\r\n                    {showEmpty()}\r\n                    {loadMoreButton()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\n\r\nexport default Shop;             ","import React,{useState,useEffect} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Layout from './Layout';\r\nimport {read,listRelated} from './apiCore';\r\nimport Card from './Card';\r\nimport ShowImage from './ShowImage';\r\nimport {addItem} from './cartHelpers';\r\nimport moment from 'moment';\r\nimport '../styles.css';\r\n\r\n\r\nconst Product=(props)=>{\r\n\r\n    const [product,setProduct]=useState({});\r\n    const [error,setError]=useState(false);\r\n    const [relatedProduct,setRelatedProduct]=useState([]);\r\n    const [currentURL,setURL]=useState('');\r\n    const [redirect,setRedirect]=useState(false);\r\n\r\n    const loadSingleProduct=productId=>{\r\n        read(productId)\r\n        .then(data=>{\r\n            if(data.error){\r\n                setError(data.error);\r\n            }else{\r\n                setProduct(data);\r\n                //fetching the related products (based on category)\r\n                listRelated(data._id)\r\n                    .then(products=>{\r\n                        if(products.error){\r\n                            setError(products.error);\r\n                        }else{\r\n                            setRelatedProduct(products);\r\n                        }\r\n                    })\r\n            }\r\n        });\r\n    };\r\n\r\n   \r\n\r\n    useEffect(()=>{\r\n        const productId=props.match.params.productId;   //props object is provided by react-router-dom\r\n            //we are extracting productId FROM URL at the time the Product component is mounted. This \r\n            //is because we want to display all the info as soon as the page loads.\r\n        loadSingleProduct(productId); \r\n    },[props]);     //specifyin \"props\" here means that whenever there is a change in props object\r\n                    //useEffect will run again.This helps in rendering the next item in related proucts.\r\n\r\n                    \r\n    const addToCart=()=>{ \r\n        addItem(product,()=>{\r\n            setRedirect(true); \r\n        });\r\n    };\r\n            \r\n    const shouldRedirect=redirect=>{\r\n        if(redirect){\r\n            return <Redirect to=\"/cart\" />\r\n        }\r\n    }\r\n\r\n    const showAddToCartButton=quantity=>{\r\n        return quantity>0 ?(\r\n            <button onClick={addToCart} className=\"btn btn-outline-warning mt-2 mb-2\">\r\n                Add to Cart\r\n            </button>\r\n        ):(\r\n            <button className=\"btn btn-outline-warning mt-2 mb-2\" disabled>\r\n                Add to Cart\r\n            </button>\r\n        )\r\n    };\r\n\r\n    const showStock=quantity=>{\r\n        return quantity>0 ? (\r\n            quantity<5 ? (\r\n                <span className=\"badge badge-warning badge-pill\">Only {quantity} pieces left.Hurry..! Order Now.</span>\r\n            ):(\r\n                <span className=\"badge badge-primary badge-pill\">In Stock</span>\r\n            )\r\n        ):(\r\n            <span className=\"badge badge-danger badge-pill\">Out of Stock</span>\r\n        )\r\n    };\r\n\r\n    const showRelatedProductsHeader=()=>{\r\n    return   relatedProduct.length>0 ?  (<div className=\"mt-4\">\r\n                                    <h2>Related Products</h2>\r\n                                </div> ) :(\r\n                                    <div></div>\r\n                                )\r\n    }\r\n\r\n\r\n    return (\r\n    <div style={{backgroundImage: \"linear-gradient(rgba(0,0,0,0.1),rgba(0,0,0,0.1))\"}}>\r\n        <Layout title={product && product.name} \r\n            description={product && product.category && product.category.name} className=\"container-fluid\" >\r\n            \r\n            <div className=\"row\" >\r\n                <div className=\"col-4 mt-10\">\r\n                    <ShowImage item={product} url=\"product\" />\r\n                </div>\r\n                {shouldRedirect(redirect)}\r\n                <div className=\"col-6 \" \r\n                    style={{margin:\"30px\",whiteSpace:\"pre-wrap\",\r\n                               marginRight:\"40\" }}>\r\n                        <h2>Description</h2>\r\n                        <p className=\"lead\">\r\n                            {(product.description) }\r\n                        </p>\r\n                        <div>\r\n                            <h6 style={{display:\"inline-block\"}}>Price :  </h6> \r\n                            <h5 style={{display:\"inline-block\"}}>{\"Rs \"+product.price}</h5  >\r\n                        </div>\r\n                        <div>\r\n                            Added {moment(product.createdAt).fromNow()}...\r\n                        </div>\r\n                        <p>\r\n                            {showStock(product.quantity)}\r\n                        </p>\r\n                        <p>\r\n                            {showAddToCartButton(product.quantity)}\r\n                        </p>                    \r\n                </div>\r\n            </div>\r\n            {showRelatedProductsHeader()}  \r\n            \r\n            <div className=\"container-fluid testimonial-group\" >\r\n            <div className=\"row text-center flex-nowrap\" >\r\n                \r\n                    {relatedProduct && relatedProduct.map((product,i)=>(\r\n                        <Card key={i} className=\"col-sm-4\" product={product} myStyle={{backgroundImage:\"none\"}} />\r\n                    ))}\r\n                \r\n            </div>      \r\n            </div>                               \r\n        </Layout>  \r\n    </div> \r\n    );\r\n};\r\n\r\nexport default Product;","import React,{useState,useEffect,Fragment} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {getBraintreeClientToken,processPayment,createOrder} from './apiCore';\r\nimport {isAuthenticated} from '../auth';\r\nimport '../styles2.css'\r\nimport DropIn from 'braintree-web-drop-in-react';\r\nimport {emptyCart} from './cartHelpers';\r\n\r\n\r\nconst Checkout=({products})=>{\r\n\r\n    const [data,setData]=useState({\r\n        success:false,\r\n        clientToken: null,\r\n        error:'',\r\n        instance:{},\r\n        address:''\r\n    });\r\n\r\n    const [modal,makeVisible]=useState(false);\r\n    const [sc,setSc]=useState(true);\r\n    const [ta,setTa]=useState(false);\r\n\r\n    const userId=isAuthenticated() && isAuthenticated().user._id;\r\n    const token=isAuthenticated() && isAuthenticated().token;\r\n\r\n    const getToken=(userId,token)=>{\r\n        getBraintreeClientToken(userId,token)\r\n            .then(data=>{\r\n                if(data.error){\r\n                    setData({...data,error: data.error});\r\n                }else{\r\n                    setData({clientToken:data.clientToken});\r\n                }\r\n            })\r\n    };\r\n\r\n    useEffect(()=>{\r\n        getToken(userId,token);\r\n    },[]);\r\n\r\n    const getTotal=()=>{\r\n        var grandTotal=products.reduce((currentTotal,currentItem)=>{\r\n            return currentTotal + (currentItem.count * currentItem.price);\r\n        },0);\r\n        return ((grandTotal*100)/100).toFixed(2);\r\n    };\r\n\r\n    const showModalFun=modal=>()=>{ \r\n        data.address ? makeVisible(!modal) : \r\n                    window.alert('Please fill in the Delivery Address to proceed');           \r\n    };\r\n\r\n    const showTa=()=>{\r\n        setTa(true);\r\n        setSc(false);\r\n    }\r\n\r\n    const handleAddress=event=>{\r\n        setData({...data,address:event.target.value});\r\n    }\r\n\r\n    const showCheckout=val=>(\r\n        val? (<div>\r\n            {isAuthenticated() ? (\r\n                    <button className=\"btn \" onClick={showTa} style={{background:\"yellow\"}}>\r\n                       <b>Checkout -&gt;</b>\r\n                    </button>\r\n                ):(\r\n                    <Link to=\"/signin\">\r\n                        <button className=\"btn btn-primary\">\r\n                            <b>Sign in to Checkout -&gt;</b>\r\n                        </button>\r\n                    </Link>\r\n            )}\r\n        </div>):null\r\n    );\r\n\r\n    const buy=()=>{\r\n        let deliveryAddress=data.address;\r\n        //we send nonce to server\r\n        //nonce=data.instance.requestPaymentMethod();\r\n        let nonce;\r\n        let getNonce=data.instance.requestPaymentMethod()\r\n            .then(data=>{\r\n                nonce=data.nonce;\r\n                //we now send nonce to backend as paymentMethodNonce along with total amount\r\n\r\n                const paymentData={\r\n                    paymentMethodNonce: nonce,\r\n                    amount: getTotal(products)\r\n                };\r\n\r\n                processPayment(userId,token,paymentData)\r\n                .then(response=>{  \r\n                    //setData({...data,success: response.success}); \r\n\r\n                \r\n                const createOrderData={\r\n                    products: products,\r\n                    transaction_Id: response.transaction.id,\r\n                    amount: response.transaction.amount,\r\n                    address: deliveryAddress\r\n                }\r\n                \r\n\r\n                createOrder(userId,token,createOrderData)\r\n                    .then(response=>{\r\n                        emptyCart(()=>{\r\n                            console.log(\"payment done and cart is emptied\");\r\n                        });\r\n                        setData({...data,success: true}); \r\n                    })            \r\n                })\r\n                .catch(err=>{\r\n                    setData({...data,error:err});\r\n                });\r\n\r\n            })\r\n            .catch(err=>{\r\n                setData({...data,error: err.message});\r\n            });\r\n    };\r\n\r\n\r\n    const showDropIn=()=>(\r\n        <div onClick={()=>setData({...data,error:\"\"})}>\r\n            {data.clientToken!=null && products.length>0 ? (\r\n                <div >\r\n                    <DropIn options={{\r\n                            authorization: data.clientToken\r\n                        }} onInstance={instance=>(data.instance=instance)}\r\n                    />\r\n                    \r\n                </div>   \r\n            ):(null)}\r\n        </div>\r\n\r\n    );\r\n\r\n    const showError=error=>(\r\n        <div className=\"alert alert-danger\" style={{display:error?'':'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess=success=>(\r\n        <Fragment>\r\n            <div className=\"alert alert-info\" style={{display:success?'':'none'}}>\r\n                Payment Successful..!\r\n            </div>\r\n            <div className=\"invisible\">\r\n                {(success==true)?setTimeout(()=>window.location.reload(),300):null}\r\n            </div>\r\n        </Fragment>\r\n    );\r\n\r\n    const [load,showLoad]=useState(true)\r\n    const showLoading=()=>{\r\n        if(load){\r\n            return (\r\n                <div id=\"loading\" className=\"text-muted\">\r\n                    <h6>This may take a few seconds... Please refrain from reloading or closing tab.</h6>\r\n                </div>\r\n            )\r\n        }\r\n        \r\n    }\r\n\r\n    const showModal=(modal)=> modal? (\r\n            <div id=\"myModal1\" className=\"modal1\" >                \r\n                <div className=\"modal1-content\"  >\r\n                    <div className=\"modal1-header\">\r\n                        <span onClick={showModalFun(modal)} className=\"close\">&times;</span>\r\n                        <p className=\"mt-3\"><b>Please fill in the details to continue.</b></p>\r\n                    </div>\r\n                    <div className=\"modal1-body\" >\r\n                        {showError(data.error)}\r\n                        {showSuccess(data.success)}\r\n                        {showLoading()}\r\n                        <div className='invisible'>{setTimeout(()=>showLoad(false),3000)}</div>\r\n                        <div>\r\n                            {showDropIn()}\r\n                            {data.success? null:(\r\n                                <button onClick={buy} style={{float:\"right\"}}>Pay</button>)}\r\n                        </div>                        \r\n                    </div>\r\n                    <div className=\"modal1-footer\"></div>                    \r\n                </div>\r\n            </div>\r\n        ):(null);\r\n \r\n\r\n    const showPayment=val=>{\r\n        return (val && <div className=\"mb-4\">\r\n        <h3>Delivery Address</h3>\r\n        <textarea onChange={handleAddress} className=\"form-control\"\r\n            value={data.address} placeholder=\"Type delivery address...\" />\r\n            \r\n        <button className=\"btn mt-3\" onClick={showModalFun(modal)} style={{float:\"right\",background:\"orange\"}}>\r\n            <b>Proceed to Pay -&gt;</b>\r\n        </button>    \r\n    </div> )\r\n    }\r\n    \r\n\r\n    return (\r\n        <Fragment>\r\n            <table id=\"bill\" className=\"mb-5\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Product</th>\r\n                        <th>Price(Rs)</th>\r\n                        <th>Quantity</th>\r\n                        <th>Total(Rs)</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                {products.map((p,i)=>(\r\n                    <tr key={i}>\r\n                        <td>{p.name}</td>\r\n                        <td>{p.price}</td>\r\n                        <td>{p.count}</td>\r\n                        <td>{p.count * p.price}</td>\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n                <tfoot>\r\n                    <tr >\r\n                        <td colSpan=\"3\"><center><b>Grand total:-</b></center></td>\r\n                        <td style={{background:\"#003399\",color:\"white\"}}><b>Rs {getTotal()} </b></td>\r\n                    </tr>\r\n                </tfoot>\r\n            </table>  \r\n\r\n            {showPayment(ta)}\r\n\r\n            <div style={{marginBottom :\"100px\",float: \"right\"}}>\r\n                {showCheckout(sc)}                                \r\n            </div>\r\n            <div className=\"mt-5\">\r\n                {showModal(modal)}\r\n            </div>\r\n            \r\n        </Fragment>\r\n\r\n    )\r\n};\r\n\r\nexport default Checkout;","import React,{useState,useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport Layout from './Layout';\r\nimport {getCart} from './cartHelpers';\r\nimport Card from './Card';\r\nimport Checkout from './Checkout';\r\n\r\n\r\nconst Cart=()=>{\r\n    const [items,setItems]=useState([]);\r\n    const [run, setRun] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        setItems(getCart());\r\n    },[run]);     //whenever there is a change in \"items\", useEffect() will run again\r\n\r\n    const showMessage=()=>(\r\n        items.length? (\r\n            <div>\r\n                <h2 >Your cart has {`${items.length}`} item(s)</h2>\r\n                <hr/>\r\n            </div> \r\n        ):  (\r\n        <div>\r\n            <h2>\r\n                Your cart is empty.<br/>\r\n            </h2> \r\n            <h3>Goto <Link to=\"/shop\">Shop</Link> and enjoy shopping.</h3>\r\n            </div>\r\n        )\r\n    );\r\n    \r\n\r\n    const showCheckout=()=>(\r\n        <div className=\"mt-5\">\r\n                <h2>Cart Summary</h2>\r\n                <hr/>\r\n                <div className=\" ml-5 mr-5 pl-5 pr-5\">\r\n                    <Checkout products={items} />\r\n                </div>    \r\n            </div>\r\n    )\r\n\r\n    return(\r\n        <Layout title='Shopping Cart' \r\n            description='Manage all that you wish to buy . Happy Shopping :)' className=\"container-fluid\">\r\n            {showMessage()}\r\n            <div className=\"row\">\r\n                {items && items.map((product,i)=>(\r\n                        <Card  key={i} product={product} showAddToCart={false} cartUpdate={true} \r\n                            showRemoveProductButton={true} setRun={setRun} run={run}   />\r\n                ))}           \r\n            </div>\r\n            <div className=\"mb-5\">\r\n                {items.length>0 ?showCheckout():\"\"}\r\n            </div>\r\n\r\n        </Layout>\r\n    )\r\n\r\n\r\n};\r\n\r\n\r\nexport default Cart; \r\n","import React,{useState,useEffect} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport { Link} from 'react-router-dom';\r\nimport {getProducts,deleteProduct} from './apiAdmin';\r\n\r\n\r\nconst ManageProducts=()=>{\r\n\r\n    const {user,token}=isAuthenticated();\r\n    const [products,setProducts]=useState([]);\r\n\r\n    const loadProducts=()=>{\r\n        getProducts().then(data=>{\r\n            if(data.error){\r\n                console.log(data.error);\r\n            }else{\r\n                setProducts(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const delProduct=productId=>{   \r\n        deleteProduct(productId,user._id,token)\r\n            .then(data=>{\r\n                if(data.error){\r\n                    console.log(data.error);\r\n                }else{\r\n                    loadProducts();\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        loadProducts();\r\n    },[])\r\n\r\n   \r\n\r\n    return(\r\n        <Layout title=\"Manage Products\" description={`Welcome to produts inventory ${user.name}!`} \r\n            className=\"container-fluid \"> <center>\r\n            <div className=\"row ml-5 mr-5\">\r\n                <div className=\"col-10 ml-5\">\r\n                    <h2 className=\"text-center\">{products.length} products in inventory</h2>\r\n                    <hr />\r\n                    <ul className=\"list-group\">\r\n                        {products.map((p,i)=>(\r\n                            <li key={i} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                                <b>{i+1+\") \"+p.name}</b> <div className=\"float-right\">\r\n                                <Link to={`/admin/product/update/${p._id}`}>    \r\n                                    <button className=\"btn btn-outline-warning mr-4\" >Update</button>\r\n                                </Link>\r\n                                <button onClick={()=> delProduct(p._id)} className=\"btn btn-outline-danger\">Delete</button>                                                                \r\n                                </div>\r\n                            </li> \r\n                        ))}   \r\n                    </ul>    \r\n                </div>    \r\n            </div>    \r\n            </center>\r\n        </Layout>\r\n    );\r\n};\r\n\r\n\r\nexport default ManageProducts;","import React,{useState,useEffect} from \"react\";\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {getProduct,getCategories,updateProduct} from './apiAdmin';\r\n\r\nconst UpdateProduct=({match})=>{\r\n\r\n    const {user,token} = isAuthenticated();\r\n    const [values,setValues]=useState({\r\n        name:'',\r\n        description:'',\r\n        price:'',\r\n        categories:[],\r\n        category:'',\r\n        shipping:'',\r\n        quantity:'',\r\n        photo:'',\r\n        loading:false,\r\n        error:false,\r\n        createdProduct:'',\r\n        redirectToProfile: false,\r\n        formData:new FormData()     //we will send this to the backend\r\n    });\r\n\r\n    const {name,description,price,category,shipping,categories,quantity,loading,error,createdProduct,\r\n        redirectToProfile,formData} = values;   \r\n        \r\n    const init=productId=>{\r\n        getProduct(productId)\r\n            .then(data=>{   \r\n                if(data.error){\r\n                    setValues({...values,error:data.error});\r\n                }else{\r\n                    //here we will populate the state and load categories\r\n                    setValues({...values,\r\n                        name:data.name,\r\n                        description:data.description,\r\n                        price:data.price,\r\n                        quantity:data.quantity,\r\n                        //category:data.category._id,\r\n                        shipping:data.shipping,\r\n                        formData:new FormData()\r\n                    });\r\n                    initCategories();\r\n                }\r\n            })\r\n    }    \r\n\r\n\r\n    //load categories and set form data\r\n    const initCategories=()=>{\r\n        getCategories()\r\n        .then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error: data.error})\r\n            }else{ \r\n                setValues({categories:data,formData:new FormData()});   \r\n            }\r\n        })\r\n    };\r\n\r\n\r\n    useEffect(()=>{\r\n        init(match.params.productId);\r\n    },[]);\r\n\r\n    const handleChange=name=>event=>{\r\n        const value= (name==='photo'? event.target.files[0] : event.target.value );\r\n            //event.target.files[0]-> only first image is considered.In multiple uploads, we are only\r\n            //considering the first image\r\n        formData.set(name,value);\r\n        setValues({...values,[name]:value});    \r\n    };    \r\n\r\n\r\n    const clickSubmit=(event)=>{\r\n        event.preventDefault();\r\n        setValues({...values,error:'',loading:true});\r\n        updateProduct(match.params.productId,user._id,token,formData)\r\n        .then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error:data.error});\r\n            }else{\r\n                setValues({...values,\r\n                    name:'',\r\n                    description:'',\r\n                    price:'',\r\n                    photo:'',\r\n                    loading:false,\r\n                    quantity:'',\r\n                    //category:'',\r\n                    error:false,\r\n                    createdProduct: data.name,\r\n                    redirectToProfile:true\r\n                });\r\n                //document.getElementById(\"all_cat\").selectedIndex = \"0\";\r\n                //  document.getElementById(\"ship_status\").selectedIndex = \"0\";\r\n            }\r\n        });\r\n    };\r\n\r\n    \r\n\r\n    const newProductForm=()=>(\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Attach Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\"> \r\n                    <input onChange={handleChange('photo')}  type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />                \r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" \r\n                    value={description}  style={{whiteSpace: 'pre'}} />                \r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />                \r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category </label>\r\n                <select onChange={handleChange('category')} className=\"form-control\" id=\"all_cat\">\r\n                <option >Please Select</option>\r\n                    {categories && categories.map((c,idx)=>(\r\n                        <option key={idx} value={c._id}>{c.name}</option>))}\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\" id=\"ship_status\">\r\n                    <option>Please Select</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />                \r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Update Product</button>\r\n        </form>\r\n    )    \r\n\r\n    const showError=()=>(\r\n        <div className=\"alert alert-danger\" style={{display:error?'' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess=()=>(\r\n        <div className=\"alert alert-info\" style={{display:createdProduct?'' : 'none'}}>\r\n            <h2>Product \"{ `${createdProduct} ` }\" is updated!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading=()=>(\r\n        loading && <div className=\"alert alert-success\">\r\n            <h2>Loading...</h2>\r\n        </div>\r\n    )\r\n\r\n    const redirectUser=()=>{\r\n        if(redirectToProfile){\r\n            if(!error){\r\n                window.alert('Product was successfully updated.')\r\n                return <Redirect to=\"/admin/products\" />\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Add a new Product\" description={`Welcome ${user.name}!`} >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\"> \r\n                    {showLoading()} \r\n                    {showSuccess()} \r\n                    {showError()}\r\n                    {newProductForm()}  \r\n                    {redirectUser()}                  \r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nexport default UpdateProduct;","import React from 'react';\r\nimport {BrowserRouter,Switch, Route} from 'react-router-dom';\r\n        //BrowserRouter is a component which wraps rest of the application/routes. This will make props \r\n        //available to other nested components.We can have access to route parameters.\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';      \r\nimport Home from './core/Home';    \r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport AdminRoute from './auth/AdminRoute';\r\nimport Dashboard from './user/UserDashboard';\r\nimport Profile from './user/Profile';\r\nimport AdminDashboard from './user/AdminDashboard';\r\nimport AddCategory from './admin/AddCategory';\r\nimport AddProduct from './admin/AddProduct';\r\nimport Orders from './admin/Orders';\r\nimport Shop from './core/Shop';\r\nimport Product from './core/Product'; \r\nimport Cart from './core/Cart';\r\nimport ManageProducts from './admin/ManageProducts';\r\nimport UpdateProduct from './admin/UpdateProduct';\r\n\r\n\r\nconst Routes=() =>{         //if curly braces are used, we need to use return statement.\r\n    return (\r\n    <BrowserRouter>\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Home} />\r\n            <Route path=\"/shop\" exact component={Shop} />\r\n            <Route path=\"/Signin\" exact component={Signin} />\r\n            <Route path=\"/Signup\" exact component={Signup} />\r\n            <PrivateRoute path='/user/dashboard' exact component={Dashboard} />\r\n            <PrivateRoute path='/profile/:userId' exact component={Profile} />\r\n            <AdminRoute path='/admin/dashboard' exact component={AdminDashboard} />\r\n            <AdminRoute path='/create/category' exact component={AddCategory} />\r\n            <AdminRoute path='/create/product' exact component={AddProduct} />\r\n            <AdminRoute path='/admin/orders' exact component={Orders} />\r\n            <AdminRoute path='/admin/product/update/:productId' exact component={UpdateProduct} />\r\n            <AdminRoute path='/admin/products' exact component={ManageProducts} />\r\n            <Route path=\"/product/:productId\" exact component={Product} />\r\n            <Route path=\"/cart\" exact component={Cart} />\r\n        </Switch>\r\n    </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default Routes; \r\n    //the Routes component is returning the entire application","import React from 'react';\nimport ReactDOM from 'react-dom'; \nimport Routes from './Routes';\n\n\nReactDOM.render(\n    <Routes />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}